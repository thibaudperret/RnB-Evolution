!function(a,o,t,r){var l=a(o);a.fn.lazyload=function(t){function e(){var e=0;n.each(function(){var t=a(this);if((!s.skip_invisible||t.is(":visible"))&&!a.abovethetop(this,s)&&!a.leftofbegin(this,s))if(a.belowthefold(this,s)||a.rightoffold(this,s)){if(++e>s.failure_limit)return!1}else t.trigger("appear"),e=0})}var i,n=this,s={threshold:0,failure_limit:0,event:"scroll",effect:"show",container:o,data_attribute:"original",skip_invisible:!0,appear:null,load:null};return t&&(r!==t.failurelimit&&(t.failure_limit=t.failurelimit,delete t.failurelimit),r!==t.effectspeed&&(t.effect_speed=t.effectspeed,delete t.effectspeed),a.extend(s,t)),i=s.container===r||s.container===o?l:a(s.container),0===s.event.indexOf("scroll")&&i.bind(s.event,function(t){return e()}),this.each(function(){var i=this,o=a(i);i.loaded=!1,o.one("appear",function(){if(!this.loaded){if(s.appear){var t=n.length;s.appear.call(i,t,s)}a("<img />").bind("load",function(){o.hide().attr("src",o.data(s.data_attribute))[s.effect](s.effect_speed),i.loaded=!0;var t=a.grep(n,function(t){return!t.loaded});if(n=a(t),s.load){var e=n.length;s.load.call(i,e,s)}}).attr("src",o.data(s.data_attribute))}}),0!==s.event.indexOf("scroll")&&o.bind(s.event,function(t){i.loaded||o.trigger("appear")})}),l.bind("resize",function(t){e()}),/iphone|ipod|ipad.*os 5/gi.test(navigator.appVersion)&&l.bind("pageshow",function(t){t.originalEvent.persisted&&n.each(function(){a(this).trigger("appear")})}),a(o).load(function(){e()}),this},a.belowthefold=function(t,e){return(e.container===r||e.container===o?l.height()+l.scrollTop():a(e.container).offset().top+a(e.container).height())<=a(t).offset().top-e.threshold},a.rightoffold=function(t,e){return(e.container===r||e.container===o?l.width()+l.scrollLeft():a(e.container).offset().left+a(e.container).width())<=a(t).offset().left-e.threshold},a.abovethetop=function(t,e){return(e.container===r||e.container===o?l.scrollTop():a(e.container).offset().top)>=a(t).offset().top+e.threshold+a(t).height()},a.leftofbegin=function(t,e){return(e.container===r||e.container===o?l.scrollLeft():a(e.container).offset().left)>=a(t).offset().left+e.threshold+a(t).width()},a.inviewport=function(t,e){return!(a.rightoffold(t,e)||a.leftofbegin(t,e)||a.belowthefold(t,e)||a.abovethetop(t,e))},a.extend(a.expr[":"],{"below-the-fold":function(t){return a.belowthefold(t,{threshold:0})},"above-the-top":function(t){return!a.belowthefold(t,{threshold:0})},"right-of-screen":function(t){return a.rightoffold(t,{threshold:0})},"left-of-screen":function(t){return!a.rightoffold(t,{threshold:0})},"in-viewport":function(t){return a.inviewport(t,{threshold:0})},"above-the-fold":function(t){return!a.belowthefold(t,{threshold:0})},"right-of-fold":function(t){return a.rightoffold(t,{threshold:0})},"left-of-fold":function(t){return!a.rightoffold(t,{threshold:0})}})}(jQuery,window,document),function(u){"use strict";var n={},c={};u.manageAjax={create:function(t,e){return n[t]=new u.manageAjax._manager(t,e),n[t]},destroy:function(t){n[t]&&(n[t].clear(!0),delete n[t])}},u.manageAjax._manager=function(t,e){this.requests={},this.inProgress=0,this.name=t,this.qName=t,this.opts=u.extend({},u.manageAjax.defaults,e),e&&e.queue&&!0!==e.queue&&"string"==typeof e.queue&&"clear"!==e.queue&&(this.qName=e.queue)},u.manageAjax._manager.prototype={add:function(t,s){"object"==typeof t?s=t:"string"==typeof t&&(s=u.extend(s||{},{url:t}));var i=(s=u.extend({},this.opts,s)).complete||u.noop,o=s.success||u.noop,n=s.beforeSend||u.noop,a=s.error||u.noop,r="string"==typeof s.data?s.data:u.param(s.data||{}),l=s.type+s.url+r,c=this,e=this._createAjax(l,s,o,i);if(s.preventDoubleRequests&&s.queueDuplicateRequests&&(s.preventDoubleRequests&&(s.queueDuplicateRequests=!1),setTimeout(function(){throw"preventDoubleRequests and queueDuplicateRequests can't be both true"},0)),!this.requests[l]||!s.preventDoubleRequests)return e.xhrID=l,s.xhrID=l,s.beforeSend=function(t,e){var i=n.call(this,t,e);return!1===i&&c._removeXHR(l),t=null,i},s.complete=function(t,e){c._complete.call(c,this,i,t,e,l,s),t=null},s.success=function(t,e,i){c._success.call(c,this,o,t,e,i,s),i=null},s.error=function(t,e,i){var o="",n="";"timeout"!==e&&t&&(o=t.status,n=t.responseXML||t.responseText),a?a.call(this,t,e,i,s):setTimeout(function(){throw e+"| status: "+o+" | URL: "+s.url+" | data: "+r+" | thrown: "+i+" | response: "+n},0),t=null},"clear"===s.queue&&u(document).clearQueue(this.qName),s.queue||s.queueDuplicateRequests&&this.requests[l]?(u.queue(document,this.qName,e),!(this.inProgress<s.maxRequests)||this.requests[l]&&s.queueDuplicateRequests||u.dequeue(document,this.qName),l):e()},_createAjax:function(t,e,i,o){var n=this;return function(){if(!1!==e.beforeCreate.call(e.context||n,t,e))return n.inProgress++,1===n.inProgress&&u.event.trigger(n.name+"AjaxStart"),e.cacheResponse&&c[t]&&(!c[t].cacheTTL||c[t].cacheTTL<0||(new Date).getTime()-c[t].timestamp<c[t].cacheTTL?(n.requests[t]={},setTimeout(function(){n._success.call(n,e.context||e,i,c[t]._successData,"success",c[t],e),n._complete.call(n,e.context||e,o,c[t],"success",t,e)},0)):delete c[t]),e.cacheResponse&&c[t]||(e.async?n.requests[t]=u.ajax(e):u.ajax(e)),t}},_removeXHR:function(t){(this.opts.queue||this.opts.queueDuplicateRequests)&&u.dequeue(document,this.qName),this.inProgress--,this.requests[t]=null,delete this.requests[t]},clearCache:function(){c={}},_isAbort:function(t,e,i){if(!i.abortIsNoSuccess||!t&&!e)return!1;var o=!(t&&0!==t.readyState&&this.lastAbort!==i.xhrID);return t=null,o},_complete:function(t,e,i,o,n,s){this._isAbort(i,o,s)&&(o="abort",s.abort.call(t,i,o,s)),e.call(t,i,o,s),u.event.trigger(this.name+"AjaxComplete",[i,o,s]),s.domCompleteTrigger&&u(s.domCompleteTrigger).trigger(this.name+"DOMComplete",[i,o,s]).trigger("DOMComplete",[i,o,s]),this._removeXHR(n),this.inProgress||u.event.trigger(this.name+"AjaxStop"),i=null},_success:function(t,e,i,o,n,s){var a=this;if(this._isAbort(n,o,s))n=null;else{if(s.abortOld&&u.each(this.requests,function(t){if(t===s.xhrID)return!1;a.abort(t)}),s.cacheResponse&&!c[s.xhrID]&&(n||(n={}),c[s.xhrID]={status:n.status,statusText:n.statusText,responseText:n.responseText,responseXML:n.responseXML,_successData:i,cacheTTL:s.cacheTTL,timestamp:(new Date).getTime()},"getAllResponseHeaders"in n)){var r,l=n.getAllResponseHeaders();u.extend(c[s.xhrID],{getAllResponseHeaders:function(){return l},getResponseHeader:function(t){return r||(r={},u.each(l.split("\n"),function(t,e){var i=e.indexOf(":");r[e.substr(0,i)]=e.substr(i+2)})),t in r?r[t]:null}})}e.call(t,i,o,n,s),u.event.trigger(this.name+"AjaxSuccess",[n,s,i]),s.domSuccessTrigger&&u(s.domSuccessTrigger).trigger(this.name+"DOMSuccess",[i,s]).trigger("DOMSuccess",[i,s]),n=null}},getData:function(i){if(i){var t=this.requests[i];return!t&&this.opts.queue&&(t=u.grep(u(document).queue(this.qName),function(t,e){return t.xhrID===i})[0]),t}return{requests:this.requests,queue:this.opts.queue?u(document).queue(this.qName):[],inProgress:this.inProgress}},abort:function(t){var i;if(t)return(i=this.getData(t))&&i.abort?(this.lastAbort=t,i.abort(),this.lastAbort=!1):u(document).queue(this.qName,u.grep(u(document).queue(this.qName),function(t,e){return t!==i})),void(i=null);var o=this,e=[];u.each(this.requests,function(t){e.push(t)}),u.each(e,function(t,e){o.abort(e)})},clear:function(t){u(document).clearQueue(this.qName),t&&this.abort()}},u.manageAjax._manager.prototype.getXHR=u.manageAjax._manager.prototype.getData,u.manageAjax.defaults={beforeCreate:u.noop,abort:u.noop,abortIsNoSuccess:!0,maxRequests:1,cacheResponse:!1,async:!0,domCompleteTrigger:!1,domSuccessTrigger:!1,preventDoubleRequests:!0,queueDuplicateRequests:!1,cacheTTL:-1,queue:!1},u.each(u.manageAjax._manager.prototype,function(o,t){0!==o.indexOf("_")&&u.isFunction(t)&&(u.manageAjax[o]=function(t,e){if(!n[t]){if("add"!==o)return;u.manageAjax.create(t,e)}var i=Array.prototype.slice.call(arguments,1);n[t][o].apply(n[t],i)})})}(jQuery),function(n){var s,a="bgPos";function r(t){var i=(t||"").split(/ /),o={center:"50%",left:"0%",right:"100%",top:"0%",bottom:"100%"},e=function(t){var e=(o[i[t]]||i[t]||"50%").match(/^([+-]=)?([+-]?\d+(\.\d*)?)(.*)$/);i[t]=[e[1],parseFloat(e[2]),e[4]||"px"]};return 1==i.length&&-1<n.inArray(i[0],["top","bottom"])&&(i[1]=i[0],i[0]="50%"),e(0),e(1),i}function e(t){t.set||function(t){var e=n(t.elem),i=e.data(a);e.css("backgroundPosition",i),t.start=r(i),t.end=r("1.6"<=n.fn.jquery?t.end:t.options.curAnim.backgroundPosition||t.options.curAnim["background-position"]);for(var o=0;o<t.end.length;o++)t.end[o][0]&&(t.end[o][1]=t.start[o][1]+("-="==t.end[o][0]?-1:1)*t.end[o][1]);t.set=!0}(t),n(t.elem).css("background-position",t.pos*(t.end[0][1]-t.start[0][1])+t.start[0][1]+t.end[0][2]+" "+(t.pos*(t.end[1][1]-t.start[1][1])+t.start[1][1]+t.end[1][2]))}!!n.Tween?n.Tween.propHooks.backgroundPosition={get:function(t){return r(n(t.elem).css(t.prop))},set:function(t){e(t)}}:n.fx.step.backgroundPosition=e,n.fn.animate=(s=n.fn.animate,function(t,e,i,o){return(t.backgroundPosition||t["background-position"])&&this.data(a,this.css("backgroundPosition")||"left top"),s.apply(this,[t,e,i,o])})}(jQuery),function(t,e,i){"use strict";var o,n;t.uaMatch=function(t){t=t.toLowerCase();var e=/(chrome)[ \/]([\w.]+)/.exec(t)||/(webkit)[ \/]([\w.]+)/.exec(t)||/(opera)(?:.*version|)[ \/]([\w.]+)/.exec(t)||/(msie) ([\w.]+)/.exec(t)||t.indexOf("compatible")<0&&/(mozilla)(?:.*? rv:([\w.]+)|)/.exec(t)||[];return{browser:e[1]||"",version:e[2]||"0"}},t.browser||(n={},(o=t.uaMatch(e.navigator.userAgent)).browser&&(n[o.browser]=!0,n.version=o.version),n.chrome?n.webkit=!0:n.webkit&&(n.safari=!0),t.browser=n)}(jQuery,window),function(wt,xt,Tt){!function(t){"use strict";"function"==typeof define&&define.amd?define(["jquery"],t):jQuery&&!jQuery.fn.qtip&&t(jQuery)}(function(C){"use strict";function p(t,e,i,o){this.id=i,this.target=t,this.tooltip=k,this.elements={target:t},this._id=F+"-"+i,this.timers={img:{}},this.options=e,this.plugins={},this.cache={event:{},target:C(),disabled:I,attr:o,onTooltip:I,lastClass:""},this.rendered=this.destroyed=this.disabled=this.waiting=this.hiddenDuringWait=this.positioning=this.triggering=I}function i(t){return t===k||"object"!==C.type(t)}function o(t){return!(C.isFunction(t)||t&&t.attr||t.length||"object"===C.type(t)&&(t.jquery||t.then))}function f(t){var e,n,s,a;return i(t)?I:(i(t.metadata)&&(t.metadata={type:t.metadata}),"content"in t&&(i(e=t.content)||e.jquery||e.done?e=t.content={text:n=o(e)?I:e}:n=e.text,"ajax"in e&&(s=e.ajax,a=s&&s.once!==I,delete e.ajax,e.text=function(t,o){var e=n||C(this).attr(o.options.content.attr)||"Loading...",i=C.ajax(C.extend({},s,{context:o})).then(s.success,k,s.error).then(function(t){return t&&a&&o.set("content.text",t),t},function(t,e,i){o.destroyed||0===t.status||o.set("content.text",e+": "+i)});return a?e:(o.set("content.text",e),i)}),"title"in e&&(i(e.title)||(e.button=e.title.button,e.title=e.title.text),o(e.title||I)&&(e.title=I))),"position"in t&&i(t.position)&&(t.position={my:t.position,at:t.position}),"show"in t&&i(t.show)&&(t.show=t.show.jquery?{target:t.show}:t.show===M?{ready:M}:{event:t.show}),"hide"in t&&i(t.hide)&&(t.hide=t.hide.jquery?{target:t.hide}:{event:t.hide}),"style"in t&&i(t.style)&&(t.style={classes:t.style}),C.each(O,function(){this.sanitize&&this.sanitize(t)}),t)}function l(t,e){for(var i,o=0,n=t,s=e.split(".");n=n[s[o++]];)o<s.length&&(i=n);return[i||t,s.pop()]}function c(t,e){var i,o,n;for(i in this.checks)for(o in this.checks[i])(n=new RegExp(o,"i").exec(t))&&(e.push(n),("builtin"===i||this.plugins[i])&&this.checks[i][o].apply(this.plugins[i]||this,e))}function n(t){return z.concat("").join(t?"-"+t+" ":" ")}function g(t){return t&&{type:t.type,pageX:t.pageX,pageY:t.pageY,target:t.target,relatedTarget:t.relatedTarget,scrollX:t.scrollX||wt.pageXOffset||xt.body.scrollLeft||xt.documentElement.scrollLeft,scrollY:t.scrollY||wt.pageYOffset||xt.body.scrollTop||xt.documentElement.scrollTop}||{}}function r(t,e){return 0<e?setTimeout(C.proxy(t,this),e):void t.call(this)}function h(t){return this.tooltip.hasClass(Y)?I:(clearTimeout(this.timers.show),clearTimeout(this.timers.hide),void(this.timers.show=r.call(this,function(){this.toggle(M,t)},this.options.show.delay)))}function m(t){if(this.tooltip.hasClass(Y))return I;var e=C(t.relatedTarget),i=e.closest(N)[0]===this.tooltip[0],o=e[0]===this.options.show.target[0];if(clearTimeout(this.timers.show),clearTimeout(this.timers.hide),this!==e[0]&&"mouse"===this.options.position.target&&i||this.options.hide.fixed&&/mouse(out|leave|move)/.test(t.type)&&(i||o))try{t.preventDefault(),t.stopImmediatePropagation()}catch(t){}else this.timers.hide=r.call(this,function(){this.toggle(I,t)},this.options.hide.delay,this)}function v(t){return this.tooltip.hasClass(Y)||!this.options.hide.inactive?I:(clearTimeout(this.timers.inactive),void(this.timers.inactive=r.call(this,function(){this.hide(t)},this.options.hide.inactive)))}function y(t){this.rendered&&0<this.tooltip[0].offsetWidth&&this.reposition(t)}function t(t,e,i){C(xt.body).delegate(t,(e.split?e:e.join(it+" "))+it,function(){var t=b.api[C.attr(this,U)];t&&!t.disabled&&i.apply(t,arguments)})}function u(t){return t.charAt(0).toUpperCase()+t.slice(1)}function s(t,e){return Math.ceil(parseFloat(function(t,e){var i,o,n=e.charAt(0).toUpperCase()+e.slice(1),s=(e+" "+ft.join(n+" ")+n).split(" "),a=0;if(pt[e])return t.css(pt[e]);for(;i=s[a++];)if((o=t.css(i))!==Tt)return pt[e]=i,o}(t,e)))}function e(t,e){this._ns="tip",this.options=e,this.offset=e.offset,this.size=[e.width,e.height],this.init(this.qtip=t)}function a(t,e){this.options=e,this._ns="-modal",this.init(this.qtip=t)}function d(t){this._ns="ie6",this.init(this.qtip=t)}var b,_,w,x,T,M=!0,I=!1,k=null,L="x",P="y",A="width",$="height",j="top",q="left",D="bottom",R="right",H="center",E="shift",O={},F="qtip",S="data-hasqtip",U="data-qtip-id",z=["ui-widget","ui-tooltip"],N="."+F,W="click dblclick mousedown mouseup mousemove mouseleave mouseenter".split(" "),B=F+"-fixed",V=F+"-default",X=F+"-focus",Q=F+"-hover",Y=F+"-disabled",G="_replacedByqTip",J="oldtitle",K={ie:function(){for(var t=3,e=xt.createElement("div");(e.innerHTML="\x3c!--[if gt IE "+ ++t+"]><i></i><![endif]--\x3e")&&e.getElementsByTagName("i")[0];);return 4<t?t:NaN}(),iOS:parseFloat((""+(/CPU.*OS ([0-9_]{1,5})|(CPU like).*AppleWebKit.*Mobile/i.exec(navigator.userAgent)||[0,""])[1]).replace("undefined","3_2").replace("_",".").replace("_",""))||I};(_=p.prototype)._when=function(t){return C.when.apply(C,t)},_.render=function(t){if(this.rendered||this.destroyed)return this;var i=this,e=this.options,o=this.cache,n=this.elements,s=e.content.text,a=e.content.title,r=e.content.button,l=e.position,c=(this._id,[]);return C.attr(this.target[0],"aria-describedby",this._id),this.tooltip=n.tooltip=C("<div/>",{id:this._id,class:[F,V,e.style.classes,F+"-pos-"+e.position.my.abbrev()].join(" "),width:e.style.width||"",height:e.style.height||"",tracking:"mouse"===l.target&&l.adjust.mouse,role:"alert","aria-live":"polite","aria-atomic":I,"aria-describedby":this._id+"-content","aria-hidden":M}).toggleClass(Y,this.disabled).attr(U,this.id).data(F,this).appendTo(l.container).append(n.content=C("<div />",{class:F+"-content",id:this._id+"-content","aria-atomic":M})),this.rendered=-1,this.positioning=M,a&&(this._createTitle(),C.isFunction(a)||c.push(this._updateTitle(a,I))),r&&this._createButton(),C.isFunction(s)||c.push(this._updateContent(s,I)),this.rendered=M,this._setWidget(),C.each(O,function(t){var e;"render"===this.initialize&&(e=this(i))&&(i.plugins[t]=e)}),this._unassignEvents(),this._assignEvents(),this._when(c).then(function(){i._trigger("render"),i.positioning=I,i.hiddenDuringWait||!e.show.ready&&!t||i.toggle(M,o.event,I),i.hiddenDuringWait=I}),b.api[this.id]=this},_.destroy=function(t){function e(){if(!this.destroyed){this.destroyed=M;var t=this.target,e=t.attr(J);this.rendered&&this.tooltip.stop(1,0).find("*").remove().end().remove(),C.each(this.plugins,function(){this.destroy&&this.destroy()}),clearTimeout(this.timers.show),clearTimeout(this.timers.hide),this._unassignEvents(),t.removeData(F).removeAttr(U).removeAttr(S).removeAttr("aria-describedby"),this.options.suppress&&e&&t.attr("title",e).removeAttr(J),this._unbind(t),this.options=this.elements=this.cache=this.timers=this.plugins=this.mouse=k,delete b.api[this.id]}}return this.destroyed||(t===M&&"hide"!==this.triggering||!this.rendered?e.call(this):(this.tooltip.one("tooltiphidden",C.proxy(e,this)),!this.triggering&&this.hide())),this.target},x=_.checks={builtin:{"^id$":function(t,e,i,o){var n=i===M?b.nextid:i,s=F+"-"+n;n!==I&&0<n.length&&!C("#"+s).length?(this._id=s,this.rendered&&(this.tooltip[0].id=this._id,this.elements.content[0].id=this._id+"-content",this.elements.title[0].id=this._id+"-title")):t[e]=o},"^prerender":function(t,e,i){i&&!this.rendered&&this.render(this.options.show.ready)},"^content.text$":function(t,e,i){this._updateContent(i)},"^content.attr$":function(t,e,i,o){this.options.content.text===this.target.attr(o)&&this._updateContent(this.target.attr(i))},"^content.title$":function(t,e,i){return i?(i&&!this.elements.title&&this._createTitle(),void this._updateTitle(i)):this._removeTitle()},"^content.button$":function(t,e,i){this._updateButton(i)},"^content.title.(text|button)$":function(t,e,i){this.set("content."+e,i)},"^position.(my|at)$":function(t,e,i){"string"==typeof i&&(t[e]=new w(i,"at"===e))},"^position.container$":function(t,e,i){this.rendered&&this.tooltip.appendTo(i)},"^show.ready$":function(t,e,i){i&&(!this.rendered&&this.render(M)||this.toggle(M))},"^style.classes$":function(t,e,i,o){this.rendered&&this.tooltip.removeClass(o).addClass(i)},"^style.(width|height)":function(t,e,i){this.rendered&&this.tooltip.css(e,i)},"^style.widget|content.title":function(){this.rendered&&this._setWidget()},"^style.def":function(t,e,i){this.rendered&&this.tooltip.toggleClass(V,!!i)},"^events.(render|show|move|hide|focus|blur)$":function(t,e,i){this.rendered&&this.tooltip[(C.isFunction(i)?"":"un")+"bind"]("tooltip"+e,i)},"^(show|hide|position).(event|target|fixed|inactive|leave|distance|viewport|adjust)":function(){if(this.rendered){var t=this.options.position;this.tooltip.attr("tracking","mouse"===t.target&&t.adjust.mouse),this._unassignEvents(),this._assignEvents()}}}},_.get=function(t){if(this.destroyed)return this;var e=l(this.options,t.toLowerCase()),i=e[0][e[1]];return i.precedance?i.string():i};var Z=/^position\.(my|at|adjust|target|container|viewport)|style|content|show\.ready/i,tt=/^prerender|show\.ready/i;_.set=function(n,t){if(this.destroyed)return this;var e,s=this.rendered,a=I,r=this.options;return this.checks,"string"==typeof n?(e=n,(n={})[e]=t):n=C.extend({},n),C.each(n,function(t,e){if(s&&tt.test(t))delete n[t];else{var i,o=l(r,t.toLowerCase());i=o[0][o[1]],o[0][o[1]]=e&&e.nodeType?C(e):e,a=Z.test(t)||a,n[t]=[o[0],o[1],e,i]}}),f(r),this.positioning=M,C.each(n,C.proxy(c,this)),this.positioning=I,this.rendered&&0<this.tooltip[0].offsetWidth&&a&&this.reposition("mouse"===r.position.target?k:this.cache.event),this},_._update=function(t,e){var i=this,o=this.cache;return this.rendered&&t?(C.isFunction(t)&&(t=t.call(this.elements.target,o.event,this)||""),C.isFunction(t.then)?(o.waiting=M,t.then(function(t){return o.waiting=I,i._update(t,e)},k,function(t){return i._update(t,e)})):t===I||!t&&""!==t?I:(t.jquery&&0<t.length?e.empty().append(t.css({display:"block",visibility:"visible"})):e.html(t),this._waitForContent(e).then(function(t){t.images&&t.images.length&&i.rendered&&0<i.tooltip[0].offsetWidth&&i.reposition(o.event,!t.length)}))):I},_._waitForContent=function(t){var e=this.cache;return e.waiting=M,(C.fn.imagesLoaded?t.imagesLoaded():C.Deferred().resolve([])).done(function(){e.waiting=I}).promise()},_._updateContent=function(t,e){this._update(t,this.elements.content,e)},_._updateTitle=function(t,e){this._update(t,this.elements.title,e)===I&&this._removeTitle(I)},_._createTitle=function(){var t=this.elements,e=this._id+"-title";t.titlebar&&this._removeTitle(),t.titlebar=C("<div />",{class:F+"-titlebar "+(this.options.style.widget?n("header"):"")}).append(t.title=C("<div />",{id:e,class:F+"-title","aria-atomic":M})).insertBefore(t.content).delegate(".qtip-close","mousedown keydown mouseup keyup mouseout",function(t){C(this).toggleClass("ui-state-active ui-state-focus","down"===t.type.substr(-4))}).delegate(".qtip-close","mouseover mouseout",function(t){C(this).toggleClass("ui-state-hover","mouseover"===t.type)}),this.options.content.button&&this._createButton()},_._removeTitle=function(t){var e=this.elements;e.title&&(e.titlebar.remove(),e.titlebar=e.title=e.button=k,t!==I&&this.reposition())},_.reposition=function(t,e){if(!this.rendered||this.positioning||this.destroyed)return this;this.positioning=M;var i,o,n=this.cache,s=this.tooltip,a=this.options.position,r=a.target,l=a.my,c=a.at,u=a.viewport,d=a.container,h=a.adjust,p=h.method.split(" "),f=s.outerWidth(I),m=s.outerHeight(I),g=0,v=0,y=s.css("position"),b={left:0,top:0},_=0<s[0].offsetWidth,w=t&&"scroll"===t.type,x=C(wt),T=d[0].ownerDocument,k=this.mouse;if(C.isArray(r)&&2===r.length)c={x:q,y:j},b={left:r[0],top:r[1]};else if("mouse"===r)c={x:q,y:j},!k||!k.pageX||!h.mouse&&t&&t.pageX?t&&t.pageX||((!h.mouse||this.options.show.distance)&&n.origin&&n.origin.pageX?t=n.origin:(!t||t&&("resize"===t.type||"scroll"===t.type))&&(t=n.event)):t=k,"static"!==y&&(b=d.offset()),T.body.offsetWidth!==(wt.innerWidth||T.documentElement.clientWidth)&&(o=C(xt.body).offset()),b={left:t.pageX-b.left+(o&&o.left||0),top:t.pageY-b.top+(o&&o.top||0)},h.mouse&&w&&k&&(b.left-=(k.scrollX||0)-x.scrollLeft(),b.top-=(k.scrollY||0)-x.scrollTop());else{if("event"===r?t&&t.target&&"scroll"!==t.type&&"resize"!==t.type?n.target=C(t.target):t.target||(n.target=this.elements.target):"event"!==r&&(n.target=C(r.jquery?r:this.elements.target)),r=n.target,0===(r=C(r).eq(0)).length)return this;r[0]===xt||r[0]===wt?(g=K.iOS?wt.innerWidth:r.width(),v=K.iOS?wt.innerHeight:r.height(),r[0]===wt&&(b={top:(u||r).scrollTop(),left:(u||r).scrollLeft()})):O.imagemap&&r.is("area")?i=O.imagemap(this,r,c,O.viewport?p:I):O.svg&&r&&r[0].ownerSVGElement?i=O.svg(this,r,c,O.viewport?p:I):(g=r.outerWidth(I),v=r.outerHeight(I),b=r.offset()),i&&(g=i.width,v=i.height,o=i.offset,b=i.position),b=this.reposition.offset(r,b,d),(3.1<K.iOS&&K.iOS<4.1||4.3<=K.iOS&&K.iOS<4.33||!K.iOS&&"fixed"===y)&&(b.left-=x.scrollLeft(),b.top-=x.scrollTop()),(!i||i&&i.adjustable!==I)&&(b.left+=c.x===R?g:c.x===H?g/2:0,b.top+=c.y===D?v:c.y===H?v/2:0)}return b.left+=h.x+(l.x===R?-f:l.x===H?-f/2:0),b.top+=h.y+(l.y===D?-m:l.y===H?-m/2:0),O.viewport?(b.adjusted=O.viewport(this,b,a,g,v,f,m),o&&b.adjusted.left&&(b.left+=o.left),o&&b.adjusted.top&&(b.top+=o.top)):b.adjusted={left:0,top:0},this._trigger("move",[b,u.elem||u],t)&&(delete b.adjusted,e===I||!_||isNaN(b.left)||isNaN(b.top)||"mouse"===r||!C.isFunction(a.effect)?s.css(b):C.isFunction(a.effect)&&(a.effect.call(s,this,C.extend({},b)),s.queue(function(t){C(this).css({opacity:"",height:""}),K.ie&&this.style.removeAttribute("filter"),t()})),this.positioning=I),this},_.reposition.offset=function(t,i,e){function o(t,e){i.left+=e*t.scrollLeft(),i.top+=e*t.scrollTop()}if(!e[0])return i;for(var n,s,a,r,l=C(t[0].ownerDocument),c=!!K.ie&&"CSS1Compat"!==xt.compatMode,u=e[0];"static"!==(s=C.css(u,"position"))&&("fixed"===s?(a=u.getBoundingClientRect(),o(l,-1)):((a=C(u).position()).left+=parseFloat(C.css(u,"borderLeftWidth"))||0,a.top+=parseFloat(C.css(u,"borderTopWidth"))||0),i.left-=a.left+(parseFloat(C.css(u,"marginLeft"))||0),i.top-=a.top+(parseFloat(C.css(u,"marginTop"))||0),n||"hidden"===(r=C.css(u,"overflow"))||"visible"===r||(n=C(u))),u=u.offsetParent;);return n&&(n[0]!==l[0]||c)&&o(n,1),i};var et=(w=_.reposition.Corner=function(t,e){t=(""+t).replace(/([A-Z])/," $1").replace(/middle/gi,H).toLowerCase(),this.x=(t.match(/left|right/i)||t.match(/center/)||["inherit"])[0].toLowerCase(),this.y=(t.match(/top|bottom|center/i)||["inherit"])[0].toLowerCase(),this.forceY=!!e;var i=t.charAt(0);this.precedance="t"===i||"b"===i?P:L}).prototype;et.invert=function(t,e){this[t]=this[t]===q?R:this[t]===R?q:e||this[t]},et.string=function(){var t=this.x,e=this.y;return t===e?t:this.precedance===P||this.forceY&&"center"!==e?e+" "+t:t+" "+e},et.abbrev=function(){var t=this.string().split(" ");return t[0].charAt(0)+(t[1]&&t[1].charAt(0)||"")},et.clone=function(){return new w(this.string(),this.forceY)},_.toggle=function(t,e){var i=this.cache,o=this.options,n=this.tooltip;if(e){if(/over|enter/.test(e.type)&&/out|leave/.test(i.event.type)&&o.show.target.add(e.target).length===o.show.target.length&&n.has(e.relatedTarget).length)return this;i.event=g(e)}if(this.waiting&&!t&&(this.hiddenDuringWait=M),!this.rendered)return t?this.render(1):this;if(this.destroyed||this.disabled)return this;var s,a,r,l=t?"show":"hide",c=this.options[l],u=(this.options[t?"hide":"show"],this.options.position),d=this.options.content,h=this.tooltip.css("width"),p=this.tooltip.is(":visible"),f=t||1===c.target.length,m=!e||c.target.length<2||i.target[0]===e.target;return(typeof t).search("boolean|number")&&(t=!p),a=(s=!n.is(":animated")&&p===t&&m)?k:!!this._trigger(l,[90]),this.destroyed||(a!==I&&t&&this.focus(e),!a||s||(C.attr(n[0],"aria-hidden",!t),t?(i.origin=g(this.mouse),C.isFunction(d.text)&&this._updateContent(d.text,I),C.isFunction(d.title)&&this._updateTitle(d.title,I),!T&&"mouse"===u.target&&u.adjust.mouse&&(C(xt).bind("mousemove."+F,this._storeMouse),T=M),h||n.css("width",n.outerWidth(I)),this.reposition(e,arguments[2]),h||n.css("width",""),c.solo&&("string"==typeof c.solo?C(c.solo):C(N,c.solo)).not(n).not(c.target).qtip("hide",C.Event("tooltipsolo"))):(clearTimeout(this.timers.show),delete i.origin,T&&!C(N+'[tracking="true"]:visible',c.solo).not(n).length&&(C(xt).unbind("mousemove."+F),T=I),this.blur(e)),r=C.proxy(function(){t?(K.ie&&n[0].style.removeAttribute("filter"),n.css("overflow",""),"string"==typeof c.autofocus&&C(this.options.show.autofocus,n).focus(),this.options.show.target.trigger("qtip-"+this.id+"-inactive")):n.css({display:"",visibility:"",opacity:"",left:"",top:""}),this._trigger(t?"visible":"hidden")},this),c.effect===I||f===I?(n[l](),r()):C.isFunction(c.effect)?(n.stop(1,1),c.effect.call(n,this),n.queue("fx",function(t){r(),t()})):n.fadeTo(90,t?1:0,r),t&&c.target.trigger("qtip-"+this.id+"-inactive"))),this},_.show=function(t){return this.toggle(M,t)},_.hide=function(t){return this.toggle(I,t)},_.focus=function(t){if(!this.rendered||this.destroyed)return this;var e=C(N),i=this.tooltip,o=parseInt(i[0].style.zIndex,10),n=b.zindex+e.length;return i.hasClass(X)||this._trigger("focus",[n],t)&&(o!==n&&(e.each(function(){this.style.zIndex>o&&(this.style.zIndex=this.style.zIndex-1)}),e.filter("."+X).qtip("blur",t)),i.addClass(X)[0].style.zIndex=n),this},_.blur=function(t){return!this.rendered||this.destroyed||(this.tooltip.removeClass(X),this._trigger("blur",[this.tooltip.css("zIndex")],t)),this},_.disable=function(t){return this.destroyed||("toggle"===t?t=!(this.rendered?this.tooltip.hasClass(Y):this.disabled):"boolean"!=typeof t&&(t=M),this.rendered&&this.tooltip.toggleClass(Y,t).attr("aria-disabled",t),this.disabled=!!t),this},_.enable=function(){return this.disable(I)},_._createButton=function(){var e=this,t=this.elements,i=t.tooltip,o=this.options.content.button,n="string"==typeof o?o:"Close tooltip";t.button&&t.button.remove(),t.button=o.jquery?o:C("<a />",{class:"qtip-close "+(this.options.style.widget?"":F+"-icon"),title:n,"aria-label":n}).prepend(C("<span />",{class:"ui-icon ui-icon-close",html:"&times;"})),t.button.appendTo(t.titlebar||i).attr("role","button").click(function(t){return i.hasClass(Y)||e.hide(t),I})},_._updateButton=function(t){if(!this.rendered)return I;var e=this.elements.button;t?this._createButton():e.remove()},_._setWidget=function(){var t=this.options.style.widget,e=this.elements,i=e.tooltip,o=i.hasClass(Y);i.removeClass(Y),Y=t?"ui-state-disabled":"qtip-disabled",i.toggleClass(Y,o),i.toggleClass("ui-helper-reset "+n(),t).toggleClass(V,this.options.style.def&&!t),e.content&&e.content.toggleClass(n("content"),t),e.titlebar&&e.titlebar.toggleClass(n("header"),t),e.button&&e.button.toggleClass(F+"-icon",!t)},_._storeMouse=function(t){(this.mouse=g(t)).type="mousemove"},_._bind=function(t,e,i,o,n){var s="."+this._id+(o?"-"+o:"");e.length&&C(t).bind((e.split?e:e.join(s+" "))+s,C.proxy(i,n||this))},_._unbind=function(t,e){C(t).unbind("."+this._id+(e?"-"+e:""))};var it="."+F;C(function(){t(N,["mouseenter","mouseleave"],function(t){var e="mouseenter"===t.type,i=C(t.currentTarget),o=C(t.relatedTarget||t.target),n=this.options;e?(this.focus(t),i.hasClass(B)&&!i.hasClass(Y)&&clearTimeout(this.timers.hide)):"mouse"===n.position.target&&n.hide.event&&n.show.target&&!o.closest(n.show.target[0]).length&&this.hide(t),i.toggleClass(Q,e)}),t("["+U+"]",W,v)}),_._trigger=function(t,e,i){var o=C.Event("tooltip"+t);return o.originalEvent=i&&C.extend({},i)||this.cache.event||k,this.triggering=t,this.tooltip.trigger(o,[this].concat(e||[])),this.triggering=I,!o.isDefaultPrevented()},_._bindEvents=function(i,t,e,o,n,s){if(o.add(e).length===o.length){var a=[];t=C.map(t,function(t){var e=C.inArray(t,i);return-1<e?void a.push(i.splice(e,1)[0]):t}),a.length&&this._bind(e,a,function(t){(!!this.rendered&&0<this.tooltip[0].offsetWidth?s:n).call(this,t)})}this._bind(e,i,n),this._bind(o,t,s)},_._assignInitialEvents=function(t){function e(t){return this.disabled||this.destroyed?I:(this.cache.event=g(t),this.cache.target=t?C(t.target):[Tt],clearTimeout(this.timers.show),void(this.timers.show=r.call(this,function(){this.render("object"==typeof t||i.show.ready)},i.show.delay)))}var i=this.options,o=i.show.target,n=i.hide.target,s=i.show.event?C.trim(""+i.show.event).split(" "):[],a=i.hide.event?C.trim(""+i.hide.event).split(" "):[];/mouse(over|enter)/i.test(i.show.event)&&!/mouse(out|leave)/i.test(i.hide.event)&&a.push("mouseleave"),this._bind(o,"mousemove",function(t){this._storeMouse(t),this.cache.onTarget=M}),this._bindEvents(s,a,o,n,e,function(){clearTimeout(this.timers.show)}),(i.show.ready||i.prerender)&&e.call(this,t)},_._assignEvents=function(){var i=this,n=this.options,t=n.position,o=this.tooltip,e=n.show.target,s=n.hide.target,a=t.container,r=t.viewport,l=C(xt),c=(C(xt.body),C(wt)),u=n.show.event?C.trim(""+n.show.event).split(" "):[],d=n.hide.event?C.trim(""+n.hide.event).split(" "):[];C.each(n.events,function(t,e){i._bind(o,"toggle"===t?["tooltipshow","tooltiphide"]:["tooltip"+t],e,null,o)}),/mouse(out|leave)/i.test(n.hide.event)&&"window"===n.hide.leave&&this._bind(l,["mouseout","blur"],function(t){/select|option/.test(t.target.nodeName)||t.relatedTarget||this.hide(t)}),n.hide.fixed?s=s.add(o.addClass(B)):/mouse(over|enter)/i.test(n.show.event)&&this._bind(s,"mouseleave",function(){clearTimeout(this.timers.show)}),-1<(""+n.hide.event).indexOf("unfocus")&&this._bind(a.closest("html"),["mousedown","touchstart"],function(t){var e=C(t.target),i=this.rendered&&!this.tooltip.hasClass(Y)&&0<this.tooltip[0].offsetWidth,o=0<e.parents(N).filter(this.tooltip[0]).length;e[0]===this.target[0]||e[0]===this.tooltip[0]||o||this.target.has(e[0]).length||!i||this.hide(t)}),"number"==typeof n.hide.inactive&&(this._bind(e,"qtip-"+this.id+"-inactive",v),this._bind(s.add(o),b.inactiveEvents,v,"-inactive")),this._bindEvents(u,d,e,s,h,m),this._bind(e.add(o),"mousemove",function(t){if("number"==typeof n.hide.distance){var e=this.cache.origin||{},i=this.options.hide.distance,o=Math.abs;(o(t.pageX-e.pageX)>=i||o(t.pageY-e.pageY)>=i)&&this.hide(t)}this._storeMouse(t)}),"mouse"===t.target&&t.adjust.mouse&&(n.hide.event&&this._bind(e,["mouseenter","mouseleave"],function(t){this.cache.onTarget="mouseenter"===t.type}),this._bind(l,"mousemove",function(t){this.rendered&&this.cache.onTarget&&!this.tooltip.hasClass(Y)&&0<this.tooltip[0].offsetWidth&&this.reposition(t)})),(t.adjust.resize||r.length)&&this._bind(C.event.special.resize?r:c,"resize",y),t.adjust.scroll&&this._bind(c.add(t.container),"scroll",y)},_._unassignEvents=function(){var t=[this.options.show.target[0],this.options.hide.target[0],this.rendered&&this.tooltip[0],this.options.position.container[0],this.options.position.viewport[0],this.options.position.container.closest("html")[0],wt,xt];this._unbind(C([]).pushStack(C.grep(t,function(t){return"object"==typeof t})))},b=C.fn.qtip=function(t,e,i){var o=(""+t).toLowerCase(),n=k,s=C.makeArray(arguments).slice(1),a=s[s.length-1],r=this[0]?C.data(this[0],F):k;return!arguments.length&&r||"api"===o?r:"string"==typeof t?(this.each(function(){var t=C.data(this,F);if(!t)return M;if(a&&a.timeStamp&&(t.cache.event=a),!e||"option"!==o&&"options"!==o)t[o]&&t[o].apply(t,s);else{if(i===Tt&&!C.isPlainObject(e))return n=t.get(e),I;t.set(e,i)}}),n!==k?n:this):"object"!=typeof t&&arguments.length?void 0:(r=f(C.extend(M,{},t)),this.each(function(t){var e,i;return i=!(i=C.isArray(r.id)?r.id[t]:r.id)||i===I||i.length<1||b.api[i]?b.nextid++:i,(e=function(t,e,i){var o,n,s,a,r,l=C(xt.body),c=t[0]===xt?l:t,u=t.metadata?t.metadata(i.metadata):k,d="html5"===i.metadata.type&&u?u[i.metadata.name]:k,h=t.data(i.metadata.name||"qtipopts");try{h="string"==typeof h?C.parseJSON(h):h}catch(t){}if(n=(a=C.extend(M,{},b.defaults,i,"object"==typeof h?f(h):k,f(d||u))).position,a.id=e,"boolean"==typeof a.content.text){if(s=t.attr(a.content.attr),a.content.attr===I||!s)return I;a.content.text=s}if(n.container.length||(n.container=l),n.target===I&&(n.target=c),a.show.target===I&&(a.show.target=c),a.show.solo===M&&(a.show.solo=n.container.closest("body")),a.hide.target===I&&(a.hide.target=c),a.position.viewport===M&&(a.position.viewport=n.container),n.container=n.container.eq(0),n.at=new w(n.at,M),n.my=new w(n.my),t.data(F))if(a.overwrite)t.qtip("destroy",!0);else if(a.overwrite===I)return I;return t.attr(S,e),a.suppress&&(r=t.attr("title"))&&t.removeAttr("title").attr(J,r).attr("title",""),o=new p(t,a,e,!!s),t.data(F,o),t.one("remove.qtip-"+e+" removeqtip.qtip-"+e,function(){var t;(t=C(this).data(F))&&t.destroy(!0)}),o}(C(this),i,r))===I?M:(b.api[i]=e,C.each(O,function(){"initialize"===this.initialize&&this(e)}),void e._assignInitialEvents(a))}))},C.qtip=p,b.api={},C.each({attr:function(t,e){if(this.length){var i=this[0],o=C.data(i,"qtip");if("title"===t&&o&&"object"==typeof o&&o.options.suppress)return arguments.length<2?C.attr(i,J):(o&&"title"===o.options.content.attr&&o.cache.attr&&o.set("content.text",e),this.attr(J,e))}return C.fn["attr"+G].apply(this,arguments)},clone:function(t){var e=(C([]),C.fn["clone"+G].apply(this,arguments));return t||e.filter("["+J+"]").attr("title",function(){return C.attr(this,J)}).removeAttr(J),e}},function(t,e){if(!e||C.fn[t+G])return M;var i=C.fn[t+G]=C.fn[t];C.fn[t]=function(){return e.apply(this,arguments)||i.apply(this,arguments)}}),C.ui||(C["cleanData"+G]=C.cleanData,C.cleanData=function(t){for(var e,i=0;(e=C(t[i])).length;i++)if(e.attr(S))try{e.triggerHandler("removeqtip")}catch(t){}C["cleanData"+G].apply(this,arguments)}),b.version="2.2.0",b.nextid=0,b.inactiveEvents=W,b.zindex=15e3,b.defaults={prerender:I,id:I,overwrite:M,suppress:M,content:{text:M,attr:"title",title:I,button:I},position:{my:"top left",at:"bottom right",target:I,container:I,viewport:I,adjust:{x:0,y:0,mouse:M,scroll:M,resize:M,method:"flipinvert flipinvert"},effect:function(t,e){C(this).animate(e,{duration:200,queue:I})}},show:{target:I,event:"mouseenter",effect:M,delay:90,solo:I,ready:I,autofocus:I},hide:{target:I,event:"mouseleave",effect:M,delay:0,fixed:I,inactive:I,leave:"window",distance:I},style:{classes:"",widget:I,width:I,height:I,def:M},events:{render:k,move:k,show:k,hide:k,toggle:k,visible:k,hidden:k,focus:k,blur:k}};var ot,nt,st="margin",at="border",rt="color",lt="background-color",ct="transparent",ut=" !important",dt=!!xt.createElement("canvas").getContext,ht=/rgba?\(0, 0, 0(, 0)?\)|transparent|#123456/i,pt={},ft=["Webkit","O","Moz","ms"];if(dt)var mt=(wt.devicePixelRatio||1)/((nt=xt.createElement("canvas").getContext("2d")).backingStorePixelRatio||nt.webkitBackingStorePixelRatio||nt.mozBackingStorePixelRatio||nt.msBackingStorePixelRatio||nt.oBackingStorePixelRatio||1);else var gt=function(t,e,i){return"<qtipvml:"+t+' xmlns="urn:schemas-microsoft.com:vml" class="qtip-vml" '+(e||"")+' style="behavior: url(#default#VML); '+(i||"")+'" />'};C.extend(e.prototype,{init:function(t){var e,i;i=this.element=t.elements.tip=C("<div />",{class:F+"-tip"}).prependTo(t.tooltip),dt?((e=C("<canvas />").appendTo(this.element)[0].getContext("2d")).lineJoin="miter",e.miterLimit=1e5,e.save()):(e=gt("shape",'coordorigin="0,0"',"position:absolute;"),this.element.html(e+e),t._bind(C("*",i).add(i),["click","mousedown"],function(t){t.stopPropagation()},this._ns)),t._bind(t.tooltip,"tooltipmove",this.reposition,this._ns,this),this.create()},_swapDimensions:function(){this.size[0]=this.options.height,this.size[1]=this.options.width},_resetDimensions:function(){this.size[0]=this.options.width,this.size[1]=this.options.height},_useTitle:function(t){var e=this.qtip.elements.titlebar;return e&&(t.y===j||t.y===H&&this.element.position().top+this.size[1]/2+this.options.offset<e.outerHeight(M))},_parseCorner:function(t){var e=this.qtip.options.position.my;return t===I||e===I?t=I:t===M?t=new w(e.string()):t.string||((t=new w(t)).fixed=M),t},_parseWidth:function(t,e,i){var o=this.qtip.elements,n=at+u(e)+"Width";return(i?s(i,n):s(o.content,n)||s(this._useTitle(t)&&o.titlebar||o.content,n)||s(o.tooltip,n))||0},_parseRadius:function(t){var e=this.qtip.elements,i=at+u(t.y)+u(t.x)+"Radius";return K.ie<9?0:s(this._useTitle(t)&&e.titlebar||e.content,i)||s(e.tooltip,i)||0},_invalidColour:function(t,e,i){var o=t.css(e);return!o||i&&o===t.css(i)||ht.test(o)?I:o},_parseColours:function(t){var e=this.qtip.elements,i=this.element.css("cssText",""),o=at+u(t[t.precedance])+u(rt),n=this._useTitle(t)&&e.titlebar||e.content,s=this._invalidColour,a=[];return a[0]=s(i,lt)||s(n,lt)||s(e.content,lt)||s(e.tooltip,lt)||i.css(lt),a[1]=s(i,o,rt)||s(n,o,rt)||s(e.content,o,rt)||s(e.tooltip,o,rt)||e.tooltip.css(o),C("*",i).add(i).css("cssText",lt+":"+ct+ut+";"+at+":0"+ut+";"),a},_calculateSize:function(t){var e,i,o=t.precedance===P,n=this.options.width,s=this.options.height,a="c"===t.abbrev(),r=(o?n:s)*(a?.5:1),l=Math.pow,c=Math.round,u=Math.sqrt(l(r,2)+l(s,2)),d=[this.border/r*u,this.border/s*u];return d[2]=Math.sqrt(l(d[0],2)-l(this.border,2)),d[3]=Math.sqrt(l(d[1],2)-l(this.border,2)),i=[c((e=(u+d[2]+d[3]+(a?0:d[0]))/u)*n),c(e*s)],o?i:i.reverse()},_calculateTip:function(t,e,i){i=i||1;var o=(e=e||this.size)[0]*i,n=e[1]*i,s=Math.ceil(o/2),a=Math.ceil(n/2),r={br:[0,0,o,n,o,0],bl:[0,0,o,0,0,n],tr:[0,n,o,0,o,n],tl:[0,0,0,n,o,n],tc:[0,n,s,0,o,n],bc:[0,0,o,0,s,n],rc:[0,0,o,a,0,n],lc:[o,0,o,n,0,a]};return r.lt=r.br,r.rt=r.bl,r.lb=r.tr,r.rb=r.tl,r[t.abbrev()]},_drawCoords:function(t,e){t.beginPath(),t.moveTo(e[0],e[1]),t.lineTo(e[2],e[3]),t.lineTo(e[4],e[5]),t.closePath()},create:function(){var t=this.corner=(dt||K.ie)&&this._parseCorner(this.options.corner);return(this.enabled=!!this.corner&&"c"!==this.corner.abbrev())&&(this.qtip.cache.corner=t.clone(),this.update()),this.element.toggle(this.enabled),this.corner},update:function(t,e){if(!this.enabled)return this;var i,o,n,s,a,r,l,c,u=this.qtip.elements,d=this.element,h=d.children(),p=this.options,f=this.size,m=p.mimic,g=Math.round;t||(t=this.qtip.cache.corner||this.corner),m===I?m=t:((m=new w(m)).precedance=t.precedance,"inherit"===m.x?m.x=t.x:"inherit"===m.y?m.y=t.y:m.x===m.y&&(m[t.precedance]=t[t.precedance])),o=m.precedance,t.precedance===L?this._swapDimensions():this._resetDimensions(),(i=this.color=this._parseColours(t))[1]!==ct?(c=this.border=this._parseWidth(t,t[t.precedance]),p.border&&c<1&&!ht.test(i[1])&&(i[0]=i[1]),this.border=c=p.border!==M?p.border:c):this.border=c=0,l=this.size=this._calculateSize(t),d.css({width:l[0],height:l[1],lineHeight:l[1]+"px"}),r=t.precedance===P?[g(m.x===q?c:m.x===R?l[0]-f[0]-c:(l[0]-f[0])/2),g(m.y===j?l[1]-f[1]:0)]:[g(m.x===q?l[0]-f[0]:0),g(m.y===j?c:m.y===D?l[1]-f[1]-c:(l[1]-f[1])/2)],dt?((n=h[0].getContext("2d")).restore(),n.save(),n.clearRect(0,0,6e3,6e3),s=this._calculateTip(m,f,mt),a=this._calculateTip(m,this.size,mt),h.attr(A,l[0]*mt).attr($,l[1]*mt),h.css(A,l[0]).css($,l[1]),this._drawCoords(n,a),n.fillStyle=i[1],n.fill(),n.translate(r[0]*mt,r[1]*mt),this._drawCoords(n,s),n.fillStyle=i[0],n.fill()):(s="m"+(s=this._calculateTip(m))[0]+","+s[1]+" l"+s[2]+","+s[3]+" "+s[4]+","+s[5]+" xe",r[2]=c&&/^(r|b)/i.test(t.string())?8===K.ie?2:1:0,h.css({coordsize:l[0]+c+" "+(l[1]+c),antialias:""+(-1<m.string().indexOf(H)),left:r[0]-r[2]*Number(o===L),top:r[1]-r[2]*Number(o===P),width:l[0]+c,height:l[1]+c}).each(function(t){var e=C(this);e[e.prop?"prop":"attr"]({coordsize:l[0]+c+" "+(l[1]+c),path:s,fillcolor:i[0],filled:!!t,stroked:!t}).toggle(!(!c&&!t)),!t&&e.html(gt("stroke",'weight="'+2*c+'px" color="'+i[1]+'" miterlimit="1000" joinstyle="miter"'))})),wt.opera&&setTimeout(function(){u.tip.css({display:"inline-block",visibility:"visible"})},1),e!==I&&this.calculate(t,l)},calculate:function(s,a){if(!this.enabled)return I;var r,t,l=this,c=this.qtip.elements,e=this.element,u=this.options.offset,d=(c.tooltip.hasClass("ui-widget"),{});return s=s||this.corner,r=s.precedance,a=a||this._calculateSize(s),t=[s.x,s.y],r===L&&t.reverse(),C.each(t,function(t,e){var i,o,n;e===H?(d[i=r===P?q:j]="50%",d[st+"-"+i]=-Math.round(a[r===P?0:1]/2)+u):(i=l._parseWidth(s,e,c.tooltip),o=l._parseWidth(s,e,c.content),n=l._parseRadius(s),d[e]=Math.max(-l.border,t?o:u+(i<n?n:-i)))}),d[s[r]]-=a[r===L?0:1],e.css({margin:"",top:"",bottom:"",left:"",right:""}).css(d),d},reposition:function(t,e,o){function i(t,e,i,o,n){t===E&&l.precedance===e&&c[o]&&l[i]!==H?l.precedance=l.precedance===L?P:L:t!==E&&c[o]&&(l[e]=l[e]===H?0<c[o]?o:n:l[e]===o?n:o)}function n(t,e,i){l[t]===H?f[st+"-"+e]=p[t]=s[st+"-"+e]-c[e]:(a=s[i]!==Tt?[c[e],-s[e]]:[-c[e],s[e]],(p[t]=Math.max(a[0],a[1]))>a[0]&&(o[e]-=c[e],p[e]=I),f[s[i]!==Tt?i:e]=p[t])}if(this.enabled){var s,a,r=e.cache,l=this.corner.clone(),c=o.adjusted,u=e.options.position.adjust.method.split(" "),d=u[0],h=u[1]||u[0],p={left:I,top:I,x:0,y:0},f={};this.corner.fixed!==M&&(i(d,L,P,q,R),i(h,P,L,j,D),l.string()===r.corner.string()||r.cornerTop===c.top&&r.cornerLeft===c.left||this.update(l,I)),(s=this.calculate(l)).right!==Tt&&(s.left=-s.right),s.bottom!==Tt&&(s.top=-s.bottom),s.user=this.offset,(p.left=d===E&&!!c.left)&&n(L,q,R),(p.top=h===E&&!!c.top)&&n(P,j,D),this.element.css(f).toggle(!(p.x&&p.y||l.x===H&&p.y||l.y===H&&p.x)),o.left-=s.left.charAt?s.user:d!==E||p.top||!p.left&&!p.top?s.left+this.border:0,o.top-=s.top.charAt?s.user:h!==E||p.left||!p.left&&!p.top?s.top+this.border:0,r.cornerLeft=c.left,r.cornerTop=c.top,r.corner=l.clone()}},destroy:function(){this.qtip._unbind(this.qtip.tooltip,this._ns),this.qtip.elements.tip&&this.qtip.elements.tip.find("*").remove().end().remove()}}),(ot=O.tip=function(t){return new e(t,t.options.style.tip)}).initialize="render",ot.sanitize=function(t){if(t.style&&"tip"in t.style){var e=t.style.tip;"object"!=typeof e&&(e=t.style.tip={corner:e}),/string|boolean/i.test(typeof e.corner)||(e.corner=M)}},x.tip={"^position.my|style.tip.(corner|mimic|border)$":function(){this.create(),this.qtip.reposition()},"^style.tip.(height|width)$":function(t){this.size=[t.width,t.height],this.update(),this.qtip.reposition()},"^content.title|style.(classes|widget)$":function(){this.update()}},C.extend(M,b.defaults,{style:{tip:{corner:M,mimic:I,width:6,height:6,border:M,offset:0}}}),O.viewport=function(t,b,e,i,o,n,s){function a(t,e,i,o,n,s,a,r,l){var c=b[n],u=O[t],d=S[t],h=i===E,p=u===n?l:u===s?-l:-l/2,f=d===n?r:d===s?-r:-r/2,m=C[n]+M[n]-(x?0:w[n]),g=m-c,v=c+l-(a===A?T:k)-m,y=p-(O.precedance===t||u===O[e]?f:0)-(d===H?r/2:0);return h?(y=(u===n?1:-1)*p,b[n]+=0<g?g:0<v?-v:0,b[n]=Math.max(-w[n]+M[n],c-y,Math.min(Math.max(-w[n]+M[n]+(a===A?T:k),c+y),b[n],"center"===u?c-p:1e9))):(o*="flipinvert"===i?2:0,0<g&&(u!==n||0<v)?(b[n]-=y+o,_.invert(t,n)):0<v&&(u!==s||0<g)&&(b[n]-=(u===H?-y:y)+o,_.invert(t,s)),b[n]<C&&-b[n]>v&&(b[n]=c,_=O.clone())),b[n]-c}var r,_,l,w,x,T,k,C,M,c=e.target,u=t.elements.tooltip,O=e.my,S=e.at,d=e.adjust,h=d.method.split(" "),p=h[0],f=h[1]||h[0],m=e.viewport,g=e.container,v=t.cache,y={left:0,top:0};return m.jquery&&c[0]!==wt&&c[0]!==xt.body&&"none"!==d.method&&(w=g.offset()||y,x="static"===g.css("position"),r="fixed"===u.css("position"),T=m[0]===wt?m.width():m.outerWidth(I),k=m[0]===wt?m.height():m.outerHeight(I),C={left:r?0:m.scrollLeft(),top:r?0:m.scrollTop()},M=m.offset()||y,("shift"!==p||"shift"!==f)&&(_=O.clone()),y={left:"none"!==p?a(L,P,p,d.x,q,R,A,i,n):0,top:"none"!==f?a(P,L,f,d.y,j,D,$,o,s):0},_&&v.lastClass!==(l=F+"-pos-"+_.abbrev())&&u.removeClass(t.cache.lastClass).addClass(t.cache.lastClass=l)),y},O.polys={polygon:function(t,e){var i,o,n,s={width:0,height:0,position:{top:1e10,right:0,bottom:0,left:1e10},adjustable:I},a=0,r=[],l=1,c=1,u=0,d=0;for(a=t.length;a--;)(i=[parseInt(t[--a],10),parseInt(t[a+1],10)])[0]>s.position.right&&(s.position.right=i[0]),i[0]<s.position.left&&(s.position.left=i[0]),i[1]>s.position.bottom&&(s.position.bottom=i[1]),i[1]<s.position.top&&(s.position.top=i[1]),r.push(i);if(o=s.width=Math.abs(s.position.right-s.position.left),n=s.height=Math.abs(s.position.bottom-s.position.top),"c"===e.abbrev())s.position={left:s.position.left+s.width/2,top:s.position.top+s.height/2};else{for(;0<o&&0<n&&0<l&&0<c;)for(o=Math.floor(o/2),n=Math.floor(n/2),e.x===q?l=o:e.x===R?l=s.width-o:l+=Math.floor(o/2),e.y===j?c=n:e.y===D?c=s.height-n:c+=Math.floor(n/2),a=r.length;a--&&!(r.length<2);)u=r[a][0]-s.position.left,d=r[a][1]-s.position.top,(e.x===q&&l<=u||e.x===R&&u<=l||e.x===H&&(u<l||u>s.width-l)||e.y===j&&c<=d||e.y===D&&d<=c||e.y===H&&(d<c||d>s.height-c))&&r.splice(a,1);s.position={left:r[0][0],top:r[0][1]}}return s},rect:function(t,e,i,o){return{width:Math.abs(i-t),height:Math.abs(o-e),position:{left:Math.min(t,i),top:Math.min(e,o)}}},_angles:{tc:1.5,tr:7/4,tl:5/4,bc:.5,br:.25,bl:.75,rc:2,lc:1,c:0},ellipse:function(t,e,i,o,n){var s=O.polys._angles[n.abbrev()],a=0===s?0:i*Math.cos(s*Math.PI),r=o*Math.sin(s*Math.PI);return{width:2*i-Math.abs(a),height:2*o-Math.abs(r),position:{left:t+a,top:e+r},adjustable:I}},circle:function(t,e,i,o){return O.polys.ellipse(t,e,i,i,o)}},O.imagemap=function(t,e,i){e.jquery||(e=C(e));var o,n,s,a,r,l=e.attr("shape").toLowerCase().replace("poly","polygon"),c=C('img[usemap="#'+e.parent("map").attr("name")+'"]'),u=C.trim(e.attr("coords")).replace(/,$/,"").split(",");if(!c.length)return I;if("polygon"===l)a=O.polys.polygon(u,i);else{if(!O.polys[l])return I;for(s=-1,r=u.length,n=[];++s<r;)n.push(parseInt(u[s],10));a=O.polys[l].apply(this,n.concat(i))}return(o=c.offset()).left+=Math.ceil((c.outerWidth(I)-c.width())/2),o.top+=Math.ceil((c.outerHeight(I)-c.height())/2),a.position.left+=o.left,a.position.top+=o.top,a},O.svg=function(t,e,i){for(var o,n,s,a,r,l,c,u,d,h,p,f=C(xt),m=e[0],g=C(m.ownerSVGElement),v=!0;!m.getBBox;)m=m.parentNode;if(!m.getBBox||!m.parentNode)return I;o=g.attr("width")||g.width()||parseInt(g.css("width"),10),n=g.attr("height")||g.height()||parseInt(g.css("height"),10);var y=(parseInt(e.css("stroke-width"),10)||0)/2;switch(y&&(y/o,y/n),m.nodeName){case"ellipse":case"circle":h=O.polys.ellipse(m.cx.baseVal.value,m.cy.baseVal.value,(m.rx||m.r).baseVal.value+y,(m.ry||m.r).baseVal.value+y,i);break;case"line":case"polygon":case"polyline":for(h=[],u=-1,l=(d=m.points||[{x:m.x1.baseVal.value,y:m.y1.baseVal.value},{x:m.x2.baseVal.value,y:m.y2.baseVal.value}]).numberOfItems||d.length;++u<l;)c=d.getItem?d.getItem(u):d[u],h.push.apply(h,[c.x,c.y]);h=O.polys.polygon(h,i);break;default:v=!(h={width:(h=m.getBoundingClientRect()).width,height:h.height,position:{left:h.left,top:h.top}})}return p=h.position,g=g[0],v&&(g.createSVGPoint&&(s=m.getScreenCTM(),(d=g.createSVGPoint()).x=p.left,d.y=p.top,a=d.matrixTransform(s),p.left=a.x,p.top=a.y),g.viewBox&&(r=g.viewBox.baseVal)&&r.width&&r.height&&(o/r.width,n/r.height)),p.left+=f.scrollLeft(),p.top+=f.scrollTop(),h};var vt,yt,bt="qtip-modal",_t="."+bt;yt=new(yt=function(){function c(t){n.length<1&&t.length?t.not("body").blur():n.first().focus()}function t(t){if(h.is(":visible")){var e=C(t.target),i=u.tooltip,o=e.closest(N);(o.length<1?I:parseInt(o[0].style.zIndex,10)>parseInt(i[0].style.zIndex,10))||e.closest(N)[0]===i[0]||c(e),t.target===n[n.length-1]}}var u,d,h,p=this,n={};C.extend(p,{init:function(){return h=p.elem=C("<div />",{id:"qtip-overlay",html:"<div></div>",mousedown:function(){return I}}).hide(),C(xt.body).bind("focusin"+_t,t),C(xt).bind("keydown"+_t,function(t){u&&u.options.show.modal.escape&&27===t.keyCode&&u.hide(t)}),h.bind("click"+_t,function(t){u&&u.options.show.modal.blur&&u.hide(t)}),p},update:function(t){n=(u=t).options.show.modal.stealfocus!==I?t.tooltip.find("*").filter(function(){return function(t){if(C.expr[":"].focusable)return C.expr[":"].focusable;var e,i,o,n=!isNaN(C.attr(t,"tabindex")),s=t.nodeName&&t.nodeName.toLowerCase();return"area"===s?(i=(e=t.parentNode).name,!(!t.href||!i||"map"!==e.nodeName.toLowerCase())&&!!(o=C("img[usemap=#"+i+"]")[0])&&o.is(":visible")):/input|select|textarea|button|object/.test(s)?!t.disabled:"a"===s&&t.href||n}(this)}):[]},toggle:function(t,e,i){var o=(C(xt.body),t.tooltip),n=t.options.show.modal,s=n.effect,a=e?"show":"hide",r=h.is(":visible"),l=C(_t).filter(":visible:not(:animated)").not(o);return p.update(t),e&&n.stealfocus!==I&&c(C(":focus")),h.toggleClass("blurs",n.blur),e&&h.appendTo(xt.body),h.is(":animated")&&r===e&&d!==I||!e&&l.length||(h.stop(M,I),C.isFunction(s)?s.call(h,e):s===I?h[a]():h.fadeTo(parseInt(i,10)||90,e?1:0,function(){e||h.hide()}),e||h.queue(function(t){h.css({left:"",top:""}),C(_t).length||h.detach(),t()}),d=e,u.destroyed&&(u=k)),p}}),p.init()}),C.extend(a.prototype,{init:function(t){var s=t.tooltip;return this.options.on?(t.elements.overlay=yt.elem,s.addClass(bt).css("z-index",b.modal_zindex+C(_t).length),t._bind(s,["tooltipshow","tooltiphide"],function(t,e,i){var o=t.originalEvent;if(t.target===s[0])if(o&&"tooltiphide"===t.type&&/mouse(leave|enter)/.test(o.type)&&C(o.relatedTarget).closest(yt.elem[0]).length)try{t.preventDefault()}catch(t){}else(!o||o&&"tooltipsolo"!==o.type)&&this.toggle(t,"tooltipshow"===t.type,i)},this._ns,this),t._bind(s,"tooltipfocus",function(t,e){if(!t.isDefaultPrevented()&&t.target===s[0]){var i=C(_t),o=b.modal_zindex+i.length,n=parseInt(s[0].style.zIndex,10);yt.elem[0].style.zIndex=o-1,i.each(function(){this.style.zIndex>n&&(this.style.zIndex-=1)}),i.filter("."+X).qtip("blur",t.originalEvent),s.addClass(X)[0].style.zIndex=o,yt.update(e);try{t.preventDefault()}catch(t){}}},this._ns,this),void t._bind(s,"tooltiphide",function(t){t.target===s[0]&&C(_t).filter(":visible").not(s).last().qtip("focus",t)},this._ns,this)):this},toggle:function(t,e,i){return t&&t.isDefaultPrevented()?this:void yt.toggle(this.qtip,!!e,i)},destroy:function(){this.qtip.tooltip.removeClass(bt),this.qtip._unbind(this.qtip.tooltip,this._ns),yt.toggle(this.qtip,I),delete this.qtip.elements.overlay}}),(vt=O.modal=function(t){return new a(t,t.options.show.modal)}).sanitize=function(t){t.show&&("object"!=typeof t.show.modal?t.show.modal={on:!!t.show.modal}:void 0===t.show.modal.on&&(t.show.modal.on=M))},b.modal_zindex=b.zindex-200,vt.initialize="render",x.modal={"^show.modal.(on|blur)$":function(){this.destroy(),this.init(),this.qtip.elems.overlay.toggle(0<this.qtip.tooltip[0].offsetWidth)}},C.extend(M,b.defaults,{show:{modal:{on:I,effect:M,blur:M,stealfocus:M,escape:M}}});C.extend(d.prototype,{_scroll:function(){var t=this.qtip.elements.overlay;t&&(t[0].style.top=C(wt).scrollTop()+"px")},init:function(t){var e=t.tooltip;C("select, object").length<1&&(this.bgiframe=t.elements.bgiframe=C('<iframe class="qtip-bgiframe" frameborder="0" tabindex="-1" src="javascript:\'\';"  style="display:block; position:absolute; z-index:-1; filter:alpha(opacity=0); -ms-filter:"progid:DXImageTransform.Microsoft.Alpha(Opacity=0)";"></iframe>').appendTo(e),t._bind(e,"tooltipmove",this.adjustBGIFrame,this._ns,this)),this.redrawContainer=C("<div/>",{id:F+"-rcontainer"}).appendTo(xt.body),t.elements.overlay&&t.elements.overlay.addClass("qtipmodal-ie6fix")&&(t._bind(wt,["scroll","resize"],this._scroll,this._ns,this),t._bind(e,["tooltipshow"],this._scroll,this._ns,this)),this.redraw()},adjustBGIFrame:function(){var t,e,i=this.qtip.tooltip,o={height:i.outerHeight(I),width:i.outerWidth(I)},n=this.qtip.plugins.tip,s=this.qtip.elements.tip;e={left:-(e=parseInt(i.css("borderLeftWidth"),10)||0),top:-e},n&&s&&(e[(t="x"===n.corner.precedance?[A,q]:[$,j])[1]]-=s[t[0]]()),this.bgiframe.css(e).css(o)},redraw:function(){if(this.qtip.rendered<1||this.drawing)return this;var t,e,i,o,n=this.qtip.tooltip,s=this.qtip.options.style,a=this.qtip.options.position.container;return this.qtip.drawing=1,s.height&&n.css($,s.height),s.width?n.css(A,s.width):(n.css(A,"").appendTo(this.redrawContainer),(e=n.width())%2<1&&(e+=1),t=-1<((i=n.css("maxWidth")||"")+(o=n.css("minWidth")||"")).indexOf("%")?a.width()/100:0,e=(i=(-1<i.indexOf("%")?t:1)*parseInt(i,10)||e)+(o=(-1<o.indexOf("%")?t:1)*parseInt(o,10)||0)?Math.min(Math.max(e,o),i):e,n.css(A,Math.round(e)).appendTo(a)),this.drawing=0,this},destroy:function(){this.bgiframe&&this.bgiframe.remove(),this.qtip._unbind([wt,this.qtip.tooltip],this._ns)}}),(O.ie6=function(t){return 6===K.ie?new d(t):I}).initialize="render",x.ie6={"^content|style$":function(){this.redraw()}}})}(window,document),function(Xt,Qt){function e(t,e){function n(t){return rt.preferFlash&&tt&&!rt.ignoreFlash&&rt.flash[t]!==Qt&&rt.flash[t]}function i(i){return function(t){var e=this._s;return e&&e._a?i.call(this,t):null}}this.setupOptions={url:t||null,flashVersion:8,debugMode:!0,debugFlash:!1,useConsole:!0,consoleOnly:!0,waitForWindowLoad:!1,bgColor:"#ffffff",useHighPerformance:!1,flashPollingInterval:null,html5PollingInterval:null,flashLoadTimeout:1e3,wmode:null,allowScriptAccess:"always",useFlashBlock:!1,useHTML5Audio:!0,forceUseGlobalHTML5Audio:!1,ignoreMobileRestrictions:!1,html5Test:/^(probably|maybe)$/i,preferFlash:!1,noSWFCache:!1,idPrefix:"sound"},this.defaultOptions={autoLoad:!1,autoPlay:!1,from:null,loops:1,onid3:null,onload:null,whileloading:null,onplay:null,onpause:null,onresume:null,whileplaying:null,onposition:null,onstop:null,onfailure:null,onfinish:null,multiShot:!0,multiShotEvents:!1,position:null,pan:0,stream:!0,to:null,type:null,usePolicyFile:!1,volume:100},this.flash9Options={isMovieStar:null,usePeakData:!1,useWaveformData:!1,useEQData:!1,onbufferchange:null,ondataerror:null},this.movieStarOptions={bufferTime:3,serverURL:null,onconnect:null,duration:null},this.audioFormats={mp3:{type:['audio/mpeg; codecs="mp3"',"audio/mpeg","audio/mp3","audio/MPA","audio/mpa-robust"],required:!0},mp4:{related:["aac","m4a","m4b"],type:['audio/mp4; codecs="mp4a.40.2"',"audio/aac","audio/x-m4a","audio/MP4A-LATM","audio/mpeg4-generic"],required:!1},ogg:{type:["audio/ogg; codecs=vorbis"],required:!1},opus:{type:["audio/ogg; codecs=opus","audio/opus"],required:!1},wav:{type:['audio/wav; codecs="1"',"audio/wav","audio/wave","audio/x-wav"],required:!1}},this.movieID="sm2-container",this.id=e||"sm2movie",this.debugID="soundmanager-debug",this.debugURLParam=/([#?&])debug=1/i,this.versionNumber="V2.97a.20150601",this.altURL=this.movieURL=this.version=null,this.enabled=this.swfLoaded=!1,this.oMC=null,this.sounds={},this.soundIDs=[],this.didFlashBlock=this.muted=!1,this.filePattern=null,this.filePatterns={flash8:/\.mp3(\?.*)?$/i,flash9:/\.mp3(\?.*)?$/i},this.features={buffering:!1,peakData:!1,waveformData:!1,eqData:!1,movieStar:!1},this.sandbox={},this.html5={usingFlash:null},this.flash={},this.ignoreFlash=this.html5Only=!1;var s,d,o,a,h,v,r,y,l,c,u,p,f,m,g,b,_,w,x,T,k,C,M,O,S,I,L,P,A,$,j,q,D,R,H,E,F,U,z,N,W,B,V,X,Q,Y,G,J,K,Z,tt,et,it,ot,nt,st,at,rt=this,lt=null,ct=null,ut=navigator.userAgent,dt=Xt.location.href.toString(),ht=document,pt=[],ft=!1,mt=!1,gt=!1,vt=!1,yt=!1,bt=null,_t=null,wt=!1,xt=!1,Tt=0,kt=null,Ct=[],Mt=null,Ot=Array.prototype.slice,St=!1,It=0,Lt=ut.match(/(ipad|iphone|ipod)/i),Pt=ut.match(/android/i),At=ut.match(/msie/i),$t=ut.match(/webkit/i),jt=ut.match(/safari/i)&&!ut.match(/chrome/i),qt=ut.match(/opera/i),Dt=ut.match(/(mobile|pre\/|xoom)/i)||Lt||Pt,Rt=!dt.match(/usehtml5audio/i)&&!dt.match(/sm2\-ignorebadua/i)&&jt&&!ut.match(/silk/i)&&ut.match(/OS X 10_6_([3-7])/i),Ht=ht.hasFocus!==Qt?ht.hasFocus():null,Et=jt&&(ht.hasFocus===Qt||!ht.hasFocus()),Ft=!Et,Ut=/(mp3|mp4|mpa|m4a|m4b)/i,zt=ht.location?ht.location.protocol.match(/http/i):null,Nt=zt?"":"http://",Wt=/^\s*audio\/(?:x-)?(?:mpeg4|aac|flv|mov|mp4||m4v|m4a|m4b|mp4v|3gp|3g2)\s*(?:$|;)/i,Bt="mpeg4 aac flv mov mp4 m4v f4v m4a m4b mp4v 3gp 3g2".split(" "),Vt=new RegExp("\\.("+Bt.join("|")+")(\\?.*)?$","i");this.mimePattern=/^\s*audio\/(?:x-)?(?:mp(?:eg|3))\s*(?:$|;)/i,this.useAltURL=!zt;try{at=Audio!==Qt&&(qt&&opera!==Qt&&opera.version()<10?new Audio(null):new Audio).canPlayType!==Qt}catch(t){at=!1}this.hasHTML5=at,this.setup=function(t){var e=!rt.url;return t!==Qt&&gt&&Mt&&rt.ok(),l(t),St||(Dt?rt.setupOptions.ignoreMobileRestrictions&&!rt.setupOptions.forceUseGlobalHTML5Audio||(Ct.push(x.globalHTML5),St=!0):rt.setupOptions.forceUseGlobalHTML5Audio&&(Ct.push(x.globalHTML5),St=!0)),!st&&Dt&&(rt.setupOptions.ignoreMobileRestrictions?Ct.push(x.ignoreMobile):(rt.setupOptions.useHTML5Audio=!0,rt.setupOptions.preferFlash=!1,Lt?rt.ignoreFlash=!0:(Pt&&!ut.match(/android\s2\.3/i)||!Pt)&&(St=!0))),t&&(e&&M&&t.url!==Qt&&rt.beginDelayedInit(),M||t.url===Qt||"complete"!==ht.readyState||setTimeout(k,1)),st=!0,rt},this.supported=this.ok=function(){return Mt?gt&&!vt:rt.useHTML5Audio&&rt.hasHTML5},this.getMovie=function(t){return d(t)||ht[t]||Xt[t]},this.createSound=function(t,e){function i(){return o=R(o),rt.sounds[o.id]=new s(o),rt.soundIDs.push(o.id),rt.sounds[o.id]}var o,n=null;if(!gt||!rt.ok())return!1;if(e!==Qt&&(t={id:t,url:e}),(o=y(t)).url=N(o.url),o.id===Qt&&(o.id=rt.setupOptions.idPrefix+It++),E(o.id,!0))return rt.sounds[o.id];if(V(o))(n=i())._setup_html5(o);else{if(rt.html5Only||rt.html5.usingFlash&&o.url&&o.url.match(/data\:/i))return i();8<v&&null===o.isMovieStar&&(o.isMovieStar=!!(o.serverURL||o.type&&o.type.match(Wt)||o.url&&o.url.match(Vt))),o=H(o,void 0),n=i(),8===v?ct._createSound(o.id,o.loops||1,o.usePolicyFile):(ct._createSound(o.id,o.url,o.usePeakData,o.useWaveformData,o.useEQData,o.isMovieStar,!!o.isMovieStar&&o.bufferTime,o.loops||1,o.serverURL,o.duration||null,o.autoPlay,!0,o.autoLoad,o.usePolicyFile),o.serverURL||(n.connected=!0,o.onconnect&&o.onconnect.apply(n))),o.serverURL||!o.autoLoad&&!o.autoPlay||n.load(o)}return!o.serverURL&&o.autoPlay&&n.play(),n},this.destroySound=function(t,e){if(!E(t))return!1;var i,o=rt.sounds[t];for(o.stop(),o._iO={},o.unload(),i=0;i<rt.soundIDs.length;i++)if(rt.soundIDs[i]===t){rt.soundIDs.splice(i,1);break}return e||o.destruct(!0),delete rt.sounds[t],!0},this.load=function(t,e){return!!E(t)&&rt.sounds[t].load(e)},this.unload=function(t){return!!E(t)&&rt.sounds[t].unload()},this.onposition=this.onPosition=function(t,e,i,o){return!!E(t)&&rt.sounds[t].onposition(e,i,o)},this.clearOnPosition=function(t,e,i){return!!E(t)&&rt.sounds[t].clearOnPosition(e,i)},this.start=this.play=function(t,e){var i=null,o=e&&!(e instanceof Object);if(!gt||!rt.ok())return!1;if(E(t,o))o&&(e={url:e});else{if(!o)return!1;o&&(e={url:e}),e&&e.url&&(e.id=t,i=rt.createSound(e).play())}return null===i&&(i=rt.sounds[t].play(e)),i},this.setPosition=function(t,e){return!!E(t)&&rt.sounds[t].setPosition(e)},this.stop=function(t){return!!E(t)&&rt.sounds[t].stop()},this.stopAll=function(){for(var t in rt.sounds)rt.sounds.hasOwnProperty(t)&&rt.sounds[t].stop()},this.pause=function(t){return!!E(t)&&rt.sounds[t].pause()},this.pauseAll=function(){var t;for(t=rt.soundIDs.length-1;0<=t;t--)rt.sounds[rt.soundIDs[t]].pause()},this.resume=function(t){return!!E(t)&&rt.sounds[t].resume()},this.resumeAll=function(){var t;for(t=rt.soundIDs.length-1;0<=t;t--)rt.sounds[rt.soundIDs[t]].resume()},this.togglePause=function(t){return!!E(t)&&rt.sounds[t].togglePause()},this.setPan=function(t,e){return!!E(t)&&rt.sounds[t].setPan(e)},this.setVolume=function(t,e){var i,o;if(t===Qt||isNaN(t)||e!==Qt)return!!E(t)&&rt.sounds[t].setVolume(e);for(i=0,o=rt.soundIDs.length;i<o;i++)rt.sounds[rt.soundIDs[i]].setVolume(t)},this.mute=function(t){var e=0;if(t instanceof String&&(t=null),t)return!!E(t)&&rt.sounds[t].mute();for(e=rt.soundIDs.length-1;0<=e;e--)rt.sounds[rt.soundIDs[e]].mute();return rt.muted=!0},this.muteAll=function(){rt.mute()},this.unmute=function(t){if(t instanceof String&&(t=null),t)return!!E(t)&&rt.sounds[t].unmute();for(t=rt.soundIDs.length-1;0<=t;t--)rt.sounds[rt.soundIDs[t]].unmute();return!(rt.muted=!1)},this.unmuteAll=function(){rt.unmute()},this.toggleMute=function(t){return!!E(t)&&rt.sounds[t].toggleMute()},this.getMemoryUse=function(){var t=0;return ct&&8!==v&&(t=parseInt(ct._getMemoryUse(),10)),t},this.disable=function(t){var e;if(t===Qt&&(t=!1),vt)return!1;for(vt=!0,e=rt.soundIDs.length-1;0<=e;e--)P(rt.sounds[rt.soundIDs[e]]);return r(t),K.remove(Xt,"load",f),!0},this.canPlayMIME=function(t){var e;return rt.hasHTML5&&(e=X({type:t})),!e&&Mt&&(e=t&&rt.ok()?!!(8<v&&t.match(Wt)||t.match(rt.mimePattern)):null),e},this.canPlayURL=function(t){var e;return rt.hasHTML5&&(e=X({url:t})),!e&&Mt&&(e=t&&rt.ok()?!!t.match(rt.filePattern):null),e},this.canPlayLink=function(t){return!(t.type===Qt||!t.type||!rt.canPlayMIME(t.type))||rt.canPlayURL(t.href)},this.getSoundById=function(t,e){return t?rt.sounds[t]:null},this.onready=function(t,e){if("function"!=typeof t)throw j("needFunction","onready");return e||(e=Xt),u("onready",t,e),p(),!0},this.ontimeout=function(t,e){if("function"!=typeof t)throw j("needFunction","ontimeout");return e||(e=Xt),u("ontimeout",t,e),p({type:"ontimeout"}),!0},this._wD=this._writeDebug=function(t,e){return!0},this._debug=function(){},this.reboot=function(t,e){var i,o,n;for(i=rt.soundIDs.length-1;0<=i;i--)rt.sounds[rt.soundIDs[i]].destruct();if(ct)try{At&&(_t=ct.innerHTML),bt=ct.parentNode.removeChild(ct)}catch(t){}if(_t=bt=Mt=ct=null,rt.enabled=M=gt=wt=xt=ft=mt=vt=St=rt.swfLoaded=!1,rt.soundIDs=[],rt.sounds={},It=0,st=!1,t)pt=[];else for(i in pt)if(pt.hasOwnProperty(i))for(o=0,n=pt[i].length;o<n;o++)pt[i][o].fired=!1;return rt.html5={usingFlash:null},rt.flash={},rt.html5Only=!1,rt.ignoreFlash=!1,Xt.setTimeout(function(){e||rt.beginDelayedInit()},20),rt},this.reset=function(){return rt.reboot(!0,!0)},this.getMoviePercent=function(){return ct&&"PercentLoaded"in ct?ct.PercentLoaded():null},this.beginDelayedInit=function(){yt=!0,k(),setTimeout(function(){return!xt&&(S(),T(),xt=!0)},20),m()},this.destruct=function(){rt.disable(!0)},s=function(t){var n,s,a,r,e,i,l,c,o,u,d,h=this,p=!1,f=[],m=0,g=null;s=n=null,this.sID=this.id=t.id,this.url=t.url,this._iO=this.instanceOptions=this.options=y(t),this.pan=this.options.pan,this.volume=this.options.volume,this.isHTML5=!1,this._a=null,d=!this.url,this.id3={},this._debug=function(){},this.load=function(t){var e;if(t!==Qt?h._iO=y(t,h.options):(t=h.options,h._iO=t,g&&g!==h.url&&(h._iO.url=h.url,h.url=null)),h._iO.url||(h._iO.url=h.url),h._iO.url=N(h._iO.url),!(e=h.instanceOptions=h._iO).url&&!h.url)return h;if(e.url===h.url&&0!==h.readyState&&2!==h.readyState)return 3===h.readyState&&e.onload&&nt(h,function(){e.onload.apply(h,[!!h.duration])}),h;if(h.loaded=!1,h.readyState=1,h.playState=0,h.id3={},V(e))h._setup_html5(e)._called_load||(h._html5_canplay=!1,h.url!==e.url&&(h._a.src=e.url,h.setPosition(0)),h._a.autobuffer="auto",h._a.preload="auto",h._a._called_load=!0);else{if(rt.html5Only||h._iO.url&&h._iO.url.match(/data\:/i))return h;try{h.isHTML5=!1,h._iO=H(R(e)),h._iO.autoPlay&&(h._iO.position||h._iO.from)&&(h._iO.autoPlay=!1),e=h._iO,8===v?ct._load(h.id,e.url,e.stream,e.autoPlay,e.usePolicyFile):ct._load(h.id,e.url,!!e.stream,!!e.autoPlay,e.loops||1,!!e.autoLoad,e.usePolicyFile)}catch(t){I({type:"SMSOUND_LOAD_JS_EXCEPTION",fatal:!0})}}return h.url=e.url,h},this.unload=function(){return 0!==h.readyState&&(h.isHTML5?(i(),h._a&&(h._a.pause(),g=Y(h._a))):8===v?ct._unload(h.id,"about:blank"):ct._unload(h.id),a()),h},this.destruct=function(t){h.isHTML5?(i(),h._a&&(h._a.pause(),Y(h._a),St||e(),h._a._s=null,h._a=null)):(h._iO.onfailure=null,ct._destroySound(h.id)),t||rt.destroySound(h.id,!0)},this.start=this.play=function(t,e){var i,o,n,s,a;if(o=!0,o=null,e=e===Qt||e,t||(t={}),h.url&&(h._iO.url=h.url),h._iO=y(h._iO,h.options),h._iO=y(t,h._iO),h._iO.url=N(h._iO.url),h.instanceOptions=h._iO,!h.isHTML5&&h._iO.serverURL&&!h.connected)return h.getAutoPlay()||h.setAutoPlay(!0),h;if(V(h._iO)&&(h._setup_html5(h._iO),l()),1!==h.playState||h.paused||((i=h._iO.multiShot)||(h.isHTML5&&h.setPosition(h._iO.position),o=h)),null!==o)return o;if(t.url&&t.url!==h.url&&(h.readyState||h.isHTML5||8!==v||!d?h.load(h._iO):d=!1),h.loaded||(0===h.readyState?(h.isHTML5||rt.html5Only?h.isHTML5?h.load(h._iO):o=h:(h._iO.autoPlay=!0,h.load(h._iO)),h.instanceOptions=h._iO):2===h.readyState&&(o=h)),null!==o)return o;if(!h.isHTML5&&9===v&&0<h.position&&h.position===h.duration&&(t.position=0),h.paused&&0<=h.position&&(!h._iO.serverURL||0<h.position))h.resume();else{if(h._iO=y(t,h._iO),(!h.isHTML5&&null!==h._iO.position&&0<h._iO.position||null!==h._iO.from&&0<h._iO.from||null!==h._iO.to)&&0===h.instanceCount&&0===h.playState&&!h._iO.serverURL){if(i=function(){h._iO=y(t,h._iO),h.play(h._iO)},h.isHTML5&&!h._html5_canplay?(h.load({_oncanplay:i}),o=!1):h.isHTML5||h.loaded||h.readyState&&2===h.readyState||(h.load({onload:i}),o=!1),null!==o)return o;h._iO=u()}(!h.instanceCount||h._iO.multiShotEvents||h.isHTML5&&h._iO.multiShot&&!St||!h.isHTML5&&8<v&&!h.getAutoPlay())&&h.instanceCount++,h._iO.onposition&&0===h.playState&&c(h),h.playState=1,h.paused=!1,h.position=h._iO.position===Qt||isNaN(h._iO.position)?0:h._iO.position,h.isHTML5||(h._iO=H(R(h._iO))),h._iO.onplay&&e&&(h._iO.onplay.apply(h),p=!0),h.setVolume(h._iO.volume,!0),h.setPan(h._iO.pan,!0),h.isHTML5?h.instanceCount<2?(l(),o=h._setup_html5(),h.setPosition(h._iO.position),o.play()):(n=new Audio(h._iO.url),s=function(){K.remove(n,"ended",s),h._onfinish(h),Y(n),n=null},a=function(){K.remove(n,"canplay",a);try{n.currentTime=h._iO.position/1e3}catch(t){}n.play()},K.add(n,"ended",s),h._iO.volume!==Qt&&(n.volume=Math.max(0,Math.min(1,h._iO.volume/100))),h.muted&&(n.muted=!0),h._iO.position?K.add(n,"canplay",a):n.play()):(o=ct._start(h.id,h._iO.loops||1,9===v?h.position:h.position/1e3,h._iO.multiShot||!1),9!==v||o||h._iO.onplayerror&&h._iO.onplayerror.apply(h))}return h},this.stop=function(t){var e=h._iO;return 1===h.playState&&(h._onbufferchange(0),h._resetOnPosition(0),h.paused=!1,h.isHTML5||(h.playState=0),o(),e.to&&h.clearOnPosition(e.to),h.isHTML5?h._a&&(t=h.position,h.setPosition(0),h.position=t,h._a.pause(),h.playState=0,h._onTimer(),i()):(ct._stop(h.id,t),e.serverURL&&h.unload()),h.instanceCount=0,h._iO={},e.onstop&&e.onstop.apply(h)),h},this.setAutoPlay=function(t){h._iO.autoPlay=t,h.isHTML5||(ct._setAutoPlay(h.id,t),t&&(h.instanceCount||1!==h.readyState||h.instanceCount++))},this.getAutoPlay=function(){return h._iO.autoPlay},this.setPosition=function(t){t===Qt&&(t=0);var e=h.isHTML5?Math.max(t,0):Math.min(h.duration||h._iO.duration,Math.max(t,0));if(h.position=e,t=h.position/1e3,h._resetOnPosition(h.position),h._iO.position=e,h.isHTML5){if(h._a){if(h._html5_canplay){if(h._a.currentTime!==t)try{h._a.currentTime=t,(0===h.playState||h.paused)&&h._a.pause()}catch(t){}}else if(t)return h;h.paused&&h._onTimer(!0)}}else t=9===v?h.position:t,h.readyState&&2!==h.readyState&&ct._setPosition(h.id,t,h.paused||!h.playState,h._iO.multiShot);return h},this.pause=function(t){return h.paused||0===h.playState&&1!==h.readyState||(h.paused=!0,h.isHTML5?(h._setup_html5().pause(),i()):(t||t===Qt)&&ct._pause(h.id,h._iO.multiShot),h._iO.onpause&&h._iO.onpause.apply(h)),h},this.resume=function(){var t=h._iO;return h.paused&&(h.paused=!1,h.playState=1,h.isHTML5?(h._setup_html5().play(),l()):(t.isMovieStar&&!t.serverURL&&h.setPosition(h.position),ct._pause(h.id,t.multiShot)),!p&&t.onplay?(t.onplay.apply(h),p=!0):t.onresume&&t.onresume.apply(h)),h},this.togglePause=function(){return 0===h.playState?h.play({position:9!==v||h.isHTML5?h.position/1e3:h.position}):h.paused?h.resume():h.pause(),h},this.setPan=function(t,e){return t===Qt&&(t=0),e===Qt&&(e=!1),h.isHTML5||ct._setPan(h.id,t),h._iO.pan=t,e||(h.pan=t,h.options.pan=t),h},this.setVolume=function(t,e){return t===Qt&&(t=100),e===Qt&&(e=!1),h.isHTML5?h._a&&(rt.muted&&!h.muted&&(h.muted=!0,h._a.muted=!0),h._a.volume=Math.max(0,Math.min(1,t/100))):ct._setVolume(h.id,rt.muted&&!h.muted||h.muted?0:t),h._iO.volume=t,e||(h.volume=t,h.options.volume=t),h},this.mute=function(){return h.muted=!0,h.isHTML5?h._a&&(h._a.muted=!0):ct._setVolume(h.id,0),h},this.unmute=function(){h.muted=!1;var t=h._iO.volume!==Qt;return h.isHTML5?h._a&&(h._a.muted=!1):ct._setVolume(h.id,t?h._iO.volume:h.options.volume),h},this.toggleMute=function(){return h.muted?h.unmute():h.mute()},this.onposition=this.onPosition=function(t,e,i){return f.push({position:parseInt(t,10),method:e,scope:i!==Qt?i:h,fired:!1}),h},this.clearOnPosition=function(t,e){var i;if(t=parseInt(t,10),isNaN(t))return!1;for(i=0;i<f.length;i++)t!==f[i].position||e&&e!==f[i].method||(f[i].fired&&m--,f.splice(i,1))},this._processOnPosition=function(){var t,e;if(!(t=f.length)||!h.playState||t<=m)return!1;for(--t;0<=t;t--)!(e=f[t]).fired&&h.position>=e.position&&(e.fired=!0,m++,e.method.apply(e.scope,[e.position]));return!0},this._resetOnPosition=function(t){var e,i;if(!(e=f.length))return!1;for(--e;0<=e;e--)(i=f[e]).fired&&t<=i.position&&(i.fired=!1,m--);return!0},u=function(){var t,e,i=h._iO,o=i.from,n=i.to;return e=function(){h.clearOnPosition(n,e),h.stop()},t=function(){null===n||isNaN(n)||h.onPosition(n,e)},null===o||isNaN(o)||(i.position=o,i.multiShot=!1,t()),i},c=function(){var t,e=h._iO.onposition;if(e)for(t in e)e.hasOwnProperty(t)&&h.onPosition(parseInt(t,10),e[t])},o=function(){var t,e=h._iO.onposition;if(e)for(t in e)e.hasOwnProperty(t)&&h.clearOnPosition(parseInt(t,10))},l=function(){h.isHTML5&&F(h)},i=function(){h.isHTML5&&U(h)},(a=function(t){t||(f=[],m=0),p=!1,h._hasTimer=null,h._a=null,h._html5_canplay=!1,h.bytesLoaded=null,h.bytesTotal=null,h.duration=h._iO&&h._iO.duration?h._iO.duration:null,h.durationEstimate=null,h.buffered=[],h.eqData=[],h.eqData.left=[],h.eqData.right=[],h.failures=0,h.isBuffering=!1,h.instanceOptions={},h.instanceCount=0,h.loaded=!1,h.metadata={},h.readyState=0,h.muted=!1,h.paused=!1,h.peakData={left:0,right:0},h.waveformData={left:[],right:[]},h.playState=0,h.position=null,h.id3={}})(),this._onTimer=function(t){var e,i=!1,o={};if(h._hasTimer||t)return h._a&&(t||(0<h.playState||1===h.readyState)&&!h.paused)&&((e=h._get_html5_duration())!==n&&(n=e,h.duration=e,i=!0),h.durationEstimate=h.duration,(e=1e3*h._a.currentTime||0)!==s&&(s=e,i=!0),(i||t)&&h._whileplaying(e,o,o,o,o)),i},this._get_html5_duration=function(){var t=h._iO;return(t=h._a&&h._a.duration?1e3*h._a.duration:t&&t.duration?t.duration:null)&&!isNaN(t)&&1/0!==t?t:null},this._apply_loop=function(t,e){t.loop=1<e?"loop":""},this._setup_html5=function(t){t=y(h._iO,t);var e,i=St?lt:h._a,o=decodeURI(t.url);if(St?o===decodeURI(Z)&&(e=!0):o===decodeURI(g)&&(e=!0),i){if(i._s)if(St)i._s&&i._s.playState&&!e&&i._s.stop();else if(!St&&o===decodeURI(g))return h._apply_loop(i,t.loops),i;e||(g&&a(!1),i.src=t.url,Z=g=h.url=t.url,i._called_load=!1)}else t.autoLoad||t.autoPlay?(h._a=new Audio(t.url),h._a.load()):h._a=qt&&opera.version()<10?new Audio(null):new Audio,(i=h._a)._called_load=!1,St&&(lt=i);return h.isHTML5=!0,(h._a=i)._s=h,r(),h._apply_loop(i,t.loops),t.autoLoad||t.autoPlay?h.load():(i.autobuffer=!1,i.preload="auto"),i},r=function(){if(h._a._added_events)return!1;var t;for(t in h._a._added_events=!0,ot)ot.hasOwnProperty(t)&&h._a&&h._a.addEventListener(t,ot[t],!1);return!0},e=function(){var t;for(t in h._a._added_events=!1,ot)ot.hasOwnProperty(t)&&h._a&&h._a.removeEventListener(t,ot[t],!1)},this._onload=function(t){var e=!!t||!h.isHTML5&&8===v&&h.duration;return h.loaded=e,h.readyState=e?3:2,h._onbufferchange(0),h._iO.onload&&nt(h,function(){h._iO.onload.apply(h,[e])}),!0},this._onbufferchange=function(t){return!(0===h.playState||t&&h.isBuffering||!t&&!h.isBuffering)&&(h.isBuffering=1===t,h._iO.onbufferchange&&h._iO.onbufferchange.apply(h,[t]),!0)},this._onsuspend=function(){return h._iO.onsuspend&&h._iO.onsuspend.apply(h),!0},this._onfailure=function(t,e,i){h.failures++,h._iO.onfailure&&1===h.failures&&h._iO.onfailure(t,e,i)},this._onwarning=function(t,e,i){h._iO.onwarning&&h._iO.onwarning(t,e,i)},this._onfinish=function(){var t=h._iO.onfinish;h._onbufferchange(0),h._resetOnPosition(0),h.instanceCount&&(h.instanceCount--,h.instanceCount||(o(),h.playState=0,h.paused=!1,h.instanceCount=0,h.instanceOptions={},h._iO={},i(),h.isHTML5&&(h.position=0)),(!h.instanceCount||h._iO.multiShotEvents)&&t&&nt(h,function(){t.apply(h)}))},this._whileloading=function(t,e,i,o){var n=h._iO;h.bytesLoaded=t,h.bytesTotal=e,h.duration=Math.floor(i),h.bufferLength=o,h.durationEstimate=h.isHTML5||n.isMovieStar?h.duration:n.duration?h.duration>n.duration?h.duration:n.duration:parseInt(h.bytesTotal/h.bytesLoaded*h.duration,10),h.isHTML5||(h.buffered=[{start:0,end:h.duration}]),(3!==h.readyState||h.isHTML5)&&n.whileloading&&n.whileloading.apply(h)},this._whileplaying=function(t,e,i,o,n){var s=h._iO;return!isNaN(t)&&null!==t&&(h.position=Math.max(0,t),h._processOnPosition(),!h.isHTML5&&8<v&&(s.usePeakData&&e!==Qt&&e&&(h.peakData={left:e.leftPeak,right:e.rightPeak}),s.useWaveformData&&i!==Qt&&i&&(h.waveformData={left:i.split(","),right:o.split(",")}),s.useEQData&&n!==Qt&&n&&n.leftEQ&&(t=n.leftEQ.split(","),h.eqData=t,h.eqData.left=t,n.rightEQ!==Qt&&n.rightEQ&&(h.eqData.right=n.rightEQ.split(",")))),1===h.playState&&(h.isHTML5||8!==v||h.position||!h.isBuffering||h._onbufferchange(0),s.whileplaying&&s.whileplaying.apply(h)),!0)},this._oncaptiondata=function(t){h.captiondata=t,h._iO.oncaptiondata&&h._iO.oncaptiondata.apply(h,[t])},this._onmetadata=function(t,e){var i,o,n={};for(i=0,o=t.length;i<o;i++)n[t[i]]=e[i];h.metadata=n,h._iO.onmetadata&&h._iO.onmetadata.call(h,h.metadata)},this._onid3=function(t,e){var i,o,n=[];for(i=0,o=t.length;i<o;i++)n[t[i]]=e[i];h.id3=y(h.id3,n),h._iO.onid3&&h._iO.onid3.apply(h)},this._onconnect=function(t){t=1===t,(h.connected=t)&&(h.failures=0,E(h.id)&&(h.getAutoPlay()?h.play(Qt,h.getAutoPlay()):h._iO.autoLoad&&h.load()),h._iO.onconnect&&h._iO.onconnect.apply(h,[t]))},this._ondataerror=function(t){0<h.playState&&h._iO.ondataerror&&h._iO.ondataerror.apply(h)}},O=function(){return ht.body||ht.getElementsByTagName("div")[0]},d=function(t){return ht.getElementById(t)},y=function(t,e){var i,o,n=t||{};for(o in i=e===Qt?rt.defaultOptions:e)i.hasOwnProperty(o)&&n[o]===Qt&&(n[o]="object"!=typeof i[o]||null===i[o]?i[o]:y(n[o],i[o]));return n},nt=function(t,e){t.isHTML5||8!==v?e():Xt.setTimeout(e,0)},c={onready:1,ontimeout:1,defaultOptions:1,flash9Options:1,movieStarOptions:1},l=function(t,e){var i,o=!0,n=e!==Qt,s=rt.setupOptions;for(i in t)if(t.hasOwnProperty(i))if("object"!=typeof t[i]||null===t[i]||t[i]instanceof Array||t[i]instanceof RegExp)n&&c[e]!==Qt?rt[e][i]=t[i]:s[i]!==Qt?(rt.setupOptions[i]=t[i],rt[i]=t[i]):c[i]===Qt?o=!1:rt[i]instanceof Function?rt[i].apply(rt,t[i]instanceof Array?t[i]:[t[i]]):rt[i]=t[i];else{if(c[i]!==Qt)return l(t[i],i);o=!1}return o},K=function(){function t(t){var e=(t=Ot.call(t)).length;return n?(t[1]="on"+t[1],3<e&&t.pop()):3===e&&t.push(!1),t}function e(t,e){var i=t.shift(),o=[s[e]];n?i[o](t[0],t[1]):i[o].apply(i,t)}var n=Xt.attachEvent,s={add:n?"attachEvent":"addEventListener",remove:n?"detachEvent":"removeEventListener"};return{add:function(){e(t(arguments),"add")},remove:function(){e(t(arguments),"remove")}}}(),ot={abort:i(function(){}),canplay:i(function(){var t,e=this._s;if(e._html5_canplay)return!0;if(e._html5_canplay=!0,e._onbufferchange(0),t=e._iO.position===Qt||isNaN(e._iO.position)?null:e._iO.position/1e3,this.currentTime!==t)try{this.currentTime=t}catch(t){}e._iO._oncanplay&&e._iO._oncanplay()}),canplaythrough:i(function(){var t=this._s;t.loaded||(t._onbufferchange(0),t._whileloading(t.bytesLoaded,t.bytesTotal,t._get_html5_duration()),t._onload(!0))}),durationchange:i(function(){var t,e=this._s;t=e._get_html5_duration(),isNaN(t)||t===e.duration||(e.durationEstimate=e.duration=t)}),ended:i(function(){this._s._onfinish()}),error:i(function(){this._s._onload(!1)}),loadeddata:i(function(){var t=this._s;t._loaded||jt||(t.duration=t._get_html5_duration())}),loadedmetadata:i(function(){}),loadstart:i(function(){this._s._onbufferchange(1)}),play:i(function(){this._s._onbufferchange(0)}),playing:i(function(){this._s._onbufferchange(0)}),progress:i(function(t){var e,i,o=this._s,n=0;n=t.target.buffered;e=t.loaded||0;var s=t.total||1;if(o.buffered=[],n&&n.length){for(e=0,i=n.length;e<i;e++)o.buffered.push({start:1e3*n.start(e),end:1e3*n.end(e)});n=1e3*(n.end(0)-n.start(0)),e=Math.min(1,n/(1e3*t.target.duration))}isNaN(e)||(o._whileloading(e,s,o._get_html5_duration()),e&&s&&e===s&&ot.canplaythrough.call(this,t))}),ratechange:i(function(){}),suspend:i(function(t){var e=this._s;ot.progress.call(this,t),e._onsuspend()}),stalled:i(function(){}),timeupdate:i(function(){this._s._onTimer()}),waiting:i(function(){this._s._onbufferchange(1)})},V=function(t){return!(!t||!(t.type||t.url||t.serverURL))&&(!(t.serverURL||t.type&&n(t.type))&&(t.type?X({type:t.type}):X({url:t.url})||rt.html5Only||t.url.match(/data\:/i)))},Y=function(t){var e;return t&&(e=jt?"about:blank":rt.html5.canPlayType("audio/wav")?"data:audio/wave;base64,/UklGRiYAAABXQVZFZm10IBAAAAABAAEARKwAAIhYAQACABAAZGF0YQIAAAD//w==":"about:blank",t.src=e,t._called_unload!==Qt&&(t._called_load=!1)),St&&(Z=null),e},X=function(t){if(!rt.useHTML5Audio||!rt.hasHTML5)return!1;var e=t.url||null;t=t.type||null;var i,o=rt.audioFormats;if(t&&rt.html5[t]!==Qt)return rt.html5[t]&&!n(t);if(!Q){for(i in Q=[],o)o.hasOwnProperty(i)&&(Q.push(i),o[i].related&&(Q=Q.concat(o[i].related)));Q=new RegExp("\\.("+Q.join("|")+")(\\?.*)?$","i")}return(i=e?e.toLowerCase().match(Q):null)&&i.length?i=i[1]:t&&(i=(-1!==(e=t.indexOf(";"))?t.substr(0,e):t).substr(6)),i&&rt.html5[i]!==Qt?e=rt.html5[i]&&!n(i):(t="audio/"+i,e=rt.html5.canPlayType({type:t}),e=(rt.html5[i]=e)&&rt.html5[t]&&!n(t)),e},J=function(){function t(t){var e,i=e=!1;if(!s||"function"!=typeof s.canPlayType)return e;if(t instanceof Array){for(n=0,e=t.length;n<e;n++)(rt.html5[t[n]]||s.canPlayType(t[n]).match(rt.html5Test))&&(i=!0,rt.html5[t[n]]=!0,rt.flash[t[n]]=!!t[n].match(Ut));e=i}else e=!(!(t=!(!s||"function"!=typeof s.canPlayType)&&s.canPlayType(t))||!t.match(rt.html5Test));return e}if(!rt.useHTML5Audio||!rt.hasHTML5)return Mt=rt.html5.usingFlash=!0,!1;var e,i,o,n,s=Audio!==Qt?qt&&opera.version()<10?new Audio(null):new Audio:null,a={};for(e in o=rt.audioFormats)if(o.hasOwnProperty(e)&&(i="audio/"+e,a[e]=t(o[e].type),a[i]=a[e],e.match(Ut)?(rt.flash[e]=!0,rt.flash[i]=!0):(rt.flash[e]=!1,rt.flash[i]=!1),o[e]&&o[e].related))for(n=o[e].related.length-1;0<=n;n--)a["audio/"+o[e].related[n]]=a[e],rt.html5[o[e].related[n]]=a[e],rt.flash[o[e].related[n]]=a[e];return a.canPlayType=s?t:null,rt.html5=y(rt.html5,a),rt.html5.usingFlash=B(),Mt=rt.html5.usingFlash,!0},x={},j=function(){},R=function(t){return 8===v&&1<t.loops&&t.stream&&(t.stream=!1),t},H=function(t,e){return t&&!t.usePolicyFile&&(t.onid3||t.usePeakData||t.useWaveformData||t.useEQData)&&(t.usePolicyFile=!0),t},o=function(){return!1},P=function(t){for(var e in t)t.hasOwnProperty(e)&&"function"==typeof t[e]&&(t[e]=o)},A=function(t){t===Qt&&(t=!1),(vt||t)&&rt.disable(t)},$=function(t){if(t)if(t.match(/\.swf(\?.*)?$/i)){if(t.substr(t.toLowerCase().lastIndexOf(".swf?")+4))return t}else t.lastIndexOf("/")!==t.length-1&&(t+="/");return t=(t&&-1!==t.lastIndexOf("/")?t.substr(0,t.lastIndexOf("/")+1):"./")+rt.movieURL,rt.noSWFCache&&(t+="?ts="+(new Date).getTime()),t},_=function(){8!==(v=parseInt(rt.flashVersion,10))&&9!==v&&(rt.flashVersion=v=8);var t=rt.debugMode||rt.debugFlash?"_debug.swf":".swf";rt.useHTML5Audio&&!rt.html5Only&&rt.audioFormats.mp4.required&&v<9&&(rt.flashVersion=v=9),rt.version=rt.versionNumber+(rt.html5Only?" (HTML5-only mode)":9===v?" (AS3/Flash 9)":" (AS2/Flash 8)"),8<v?(rt.defaultOptions=y(rt.defaultOptions,rt.flash9Options),rt.features.buffering=!0,rt.defaultOptions=y(rt.defaultOptions,rt.movieStarOptions),rt.filePatterns.flash9=new RegExp("\\.(mp3|"+Bt.join("|")+")(\\?.*)?$","i"),rt.features.movieStar=!0):rt.features.movieStar=!1,rt.filePattern=rt.filePatterns[8!==v?"flash9":"flash8"],rt.movieURL=(8===v?"soundmanager2.swf":"soundmanager2_flash9.swf").replace(".swf",t),rt.features.peakData=rt.features.waveformData=rt.features.eqData=8<v},L=function(t,e){if(!ct)return!1;ct._setPolling(t,e)},E=this.getSoundById,D=function(){var t=[];return rt.debugMode&&t.push("sm2_debug"),rt.debugFlash&&t.push("flash_debug"),rt.useHighPerformance&&t.push("high_performance"),t.join(" ")},q=function(){j("fbHandler");var t=rt.getMoviePercent(),e={type:"FLASHBLOCK"};if(rt.html5Only)return!1;rt.ok()?rt.oMC&&(rt.oMC.className=[D(),"movieContainer","swf_loaded"+(rt.didFlashBlock?" swf_unblocked":"")].join(" ")):(Mt&&(rt.oMC.className=D()+" movieContainer "+(null===t?"swf_timedout":"swf_error")),rt.didFlashBlock=!0,p({type:"ontimeout",ignoreInit:!0,error:e}),I(e))},u=function(t,e,i){pt[t]===Qt&&(pt[t]=[]),pt[t].push({method:e,scope:i||null,fired:!1})},p=function(t){if(t||(t={type:rt.ok()?"onready":"ontimeout"}),!gt&&t&&!t.ignoreInit||"ontimeout"===t.type&&(rt.ok()||vt&&!t.ignoreInit))return!1;var e,i={success:t&&t.ignoreInit?rt.ok():!vt},o=t&&t.type&&pt[t.type]||[],n=[],s=(i=[i],Mt&&!rt.ok());for(t.error&&(i[0].error=t.error),t=0,e=o.length;t<e;t++)!0!==o[t].fired&&n.push(o[t]);if(n.length)for(t=0,e=n.length;t<e;t++)n[t].scope?n[t].method.apply(n[t].scope,i):n[t].method.apply(this,i),s||(n[t].fired=!0);return!0},f=function(){Xt.setTimeout(function(){rt.useFlashBlock&&q(),p(),"function"==typeof rt.onload&&rt.onload.apply(Xt),rt.waitForWindowLoad&&K.add(Xt,"load",f)},1)},et=function(){if(tt!==Qt)return tt;var e,t=!1,i=navigator,o=i.plugins,n=Xt.ActiveXObject;if(o&&o.length)(i=i.mimeTypes)&&i["application/x-shockwave-flash"]&&i["application/x-shockwave-flash"].enabledPlugin&&i["application/x-shockwave-flash"].enabledPlugin.description&&(t=!0);else if(n!==Qt&&!ut.match(/MSAppHost/i)){try{e=new n("ShockwaveFlash.ShockwaveFlash")}catch(t){e=null}t=!!e}return tt=t},B=function(){var t,e,i=rt.audioFormats;if(Lt&&ut.match(/os (1|2|3_0|3_1)\s/i)?(rt.hasHTML5=!1,rt.html5Only=!0,rt.oMC&&(rt.oMC.style.display="none")):!rt.useHTML5Audio||rt.html5&&rt.html5.canPlayType||(rt.hasHTML5=!1),rt.useHTML5Audio&&rt.hasHTML5)for(e in W=!0,i)i.hasOwnProperty(e)&&i[e].required&&(rt.html5.canPlayType(i[e].type)?rt.preferFlash&&(rt.flash[e]||rt.flash[i[e].type])&&(t=!0):t=!(W=!1));return rt.ignoreFlash&&(W=!(t=!1)),rt.html5Only=rt.hasHTML5&&rt.useHTML5Audio&&!t,!rt.html5Only},N=function(t){var e,i,o=0;if(t instanceof Array){for(e=0,i=t.length;e<i;e++)if(t[e]instanceof Object){if(rt.canPlayMIME(t[e].type)){o=e;break}}else if(rt.canPlayURL(t[e])){o=e;break}t[o].url&&(t[o]=t[o].url),t=t[o]}return t},F=function(t){t._hasTimer||(t._hasTimer=!0,!Dt&&rt.html5PollingInterval&&(null===kt&&0===Tt&&(kt=setInterval(z,rt.html5PollingInterval)),Tt++))},U=function(t){t._hasTimer&&(t._hasTimer=!1,!Dt&&rt.html5PollingInterval&&Tt--)},z=function(){var t;if(null!==kt&&!Tt)return clearInterval(kt),kt=null,!1;for(t=rt.soundIDs.length-1;0<=t;t--)rt.sounds[rt.soundIDs[t]].isHTML5&&rt.sounds[rt.soundIDs[t]]._hasTimer&&rt.sounds[rt.soundIDs[t]]._onTimer()},I=function(t){t=t!==Qt?t:{},"function"==typeof rt.onerror&&rt.onerror.apply(Xt,[{type:t.type!==Qt?t.type:null}]),t.fatal!==Qt&&t.fatal&&rt.disable()},it=function(){if(!Rt||!et())return!1;var t,e,i=rt.audioFormats;for(e in i)if(i.hasOwnProperty(e)&&("mp3"===e||"mp4"===e)&&(rt.html5[e]=!1,i[e]&&i[e].related))for(t=i[e].related.length-1;0<=t;t--)rt.html5[i[e].related[t]]=!1},this._setSandboxType=function(t){},this._externalInterfaceOK=function(t){if(rt.swfLoaded)return!1;rt.swfLoaded=!0,Et=!1,Rt&&it(),setTimeout(h,At?100:1)},S=function(t,e){function i(t,e){return'<param name="'+t+'" value="'+e+'" />'}if(ft&&mt)return!1;if(rt.html5Only)return _(),rt.oMC=d(rt.movieID),h(),mt=ft=!0,!1;var o,n,s,a=e||rt.url,r=rt.altURL||a,l=O(),c=D(),u=null;u=(u=ht.getElementsByTagName("html")[0])&&u.dir&&u.dir.match(/rtl/i);if(t=t===Qt?rt.id:t,_(),rt.url=$(zt?a:r),e=rt.url,rt.wmode=!rt.wmode&&rt.useHighPerformance?"transparent":rt.wmode,null!==rt.wmode&&(ut.match(/msie 8/i)||!At&&!rt.useHighPerformance)&&navigator.platform.match(/win32|win64/i)&&(Ct.push(x.spcWmode),rt.wmode=null),l={name:t,id:t,src:e,quality:"high",allowScriptAccess:rt.allowScriptAccess,bgcolor:rt.bgColor,pluginspage:Nt+"www.macromedia.com/go/getflashplayer",title:"JS/Flash audio component (SoundManager 2)",type:"application/x-shockwave-flash",wmode:rt.wmode,hasPriority:"true"},rt.debugFlash&&(l.FlashVars="debug=1"),rt.wmode||delete l.wmode,At)a=ht.createElement("div"),n=['<object id="'+t+'" data="'+e+'" type="'+l.type+'" title="'+l.title+'" classid="clsid:D27CDB6E-AE6D-11cf-96B8-444553540000" codebase="http://download.macromedia.com/pub/shockwave/cabs/flash/swflash.cab#version=6,0,40,0">',i("movie",e),i("AllowScriptAccess",rt.allowScriptAccess),i("quality",l.quality),rt.wmode?i("wmode",rt.wmode):"",i("bgcolor",rt.bgColor),i("hasPriority","true"),rt.debugFlash?i("FlashVars",l.FlashVars):"","</object>"].join("");else for(o in a=ht.createElement("embed"),l)l.hasOwnProperty(o)&&a.setAttribute(o,l[o]);if(c=D(),l=O())if(rt.oMC=d(rt.movieID)||ht.createElement("div"),rt.oMC.id)s=rt.oMC.className,rt.oMC.className=(s?s+" ":"movieContainer")+(c?" "+c:""),rt.oMC.appendChild(a),At&&((o=rt.oMC.appendChild(ht.createElement("div"))).className="sm2-object-box",o.innerHTML=n),mt=!0;else{if(rt.oMC.id=rt.movieID,rt.oMC.className="movieContainer "+c,o=c=null,rt.useFlashBlock||(rt.useHighPerformance?c={position:"fixed",width:"8px",height:"8px",bottom:"0px",left:"0px",overflow:"hidden"}:(c={position:"absolute",width:"6px",height:"6px",top:"-9999px",left:"-9999px"},u&&(c.left=Math.abs(parseInt(c.left,10))+"px"))),$t&&(rt.oMC.style.zIndex=1e4),!rt.debugFlash)for(s in c)c.hasOwnProperty(s)&&(rt.oMC.style[s]=c[s]);try{At||rt.oMC.appendChild(a),l.appendChild(rt.oMC),At&&((o=rt.oMC.appendChild(ht.createElement("div"))).className="sm2-object-box",o.innerHTML=n),mt=!0}catch(t){throw Error(j("domError")+" \n"+t.toString())}}return ft=!0},T=function(){return rt.html5Only?(S(),!1):!(ct||!rt.url)&&((ct=rt.getMovie(rt.id))||(bt?(At?rt.oMC.innerHTML=_t:rt.oMC.appendChild(bt),ft=!(bt=null)):S(rt.id,rt.url),ct=rt.getMovie(rt.id)),"function"==typeof rt.oninitmovie&&setTimeout(rt.oninitmovie,1),!0)},m=function(){setTimeout(g,1e3)},b=function(){Xt.setTimeout(function(){rt.setup({preferFlash:!1}).reboot(),rt.didFlashBlock=!0,rt.beginDelayedInit()},1)},g=function(){var t,e=!1;return!(!rt.url||wt)&&(wt=!0,K.remove(Xt,"load",m),!(tt&&Et&&!Ht)&&(gt||0<(t=rt.getMoviePercent())&&t<100&&(e=!0),void setTimeout(function(){if(t=rt.getMoviePercent(),e)return wt=!1,Xt.setTimeout(m,1),!1;!gt&&Ft&&(null===t?rt.useFlashBlock||0===rt.flashLoadTimeout?rt.useFlashBlock&&q():!rt.useFlashBlock&&W?b():p({type:"ontimeout",ignoreInit:!0,error:{type:"INIT_FLASHBLOCK"}}):0!==rt.flashLoadTimeout&&(!rt.useFlashBlock&&W?b():A(!0)))},rt.flashLoadTimeout)))},w=function(){return Ht||!Et||(Ht=Ft=!0,wt=!1,m()),K.remove(Xt,"focus",w),!0},r=function(t){if(gt)return!1;if(rt.html5Only)return gt=!0,f(),!0;var e,i=!0;return rt.useFlashBlock&&rt.flashLoadTimeout&&!rt.getMoviePercent()||(gt=!0),e={type:!tt&&Mt?"NO_FLASH":"INIT_TIMEOUT"},(vt||t)&&(rt.useFlashBlock&&rt.oMC&&(rt.oMC.className=D()+" "+(null===rt.getMoviePercent()?"swf_timedout":"swf_error")),p({type:"ontimeout",error:e,ignoreInit:!0}),I(e),i=!1),vt||(rt.waitForWindowLoad&&!yt?K.add(Xt,"load",f):f()),i},a=function(){var t,e=rt.setupOptions;for(t in e)e.hasOwnProperty(t)&&(rt[t]===Qt?rt[t]=e[t]:rt[t]!==e[t]&&(rt.setupOptions[t]=rt[t]))},h=function(){if(gt)return!1;if(rt.html5Only)return gt||(K.remove(Xt,"load",rt.beginDelayedInit),rt.enabled=!0,r()),!0;T();try{ct._externalInterfaceTest(!1),L(!0,rt.flashPollingInterval||(rt.useHighPerformance?10:50)),rt.debugMode||ct._disableDebug(),rt.enabled=!0,rt.html5Only||K.add(Xt,"unload",o)}catch(t){return I({type:"JS_TO_FLASH_EXCEPTION",fatal:!0}),A(!0),r(),!1}return r(),K.remove(Xt,"load",rt.beginDelayedInit),!0},k=function(){return!M&&(M=!0,a(),!tt&&rt.hasHTML5&&rt.setup({useHTML5Audio:!0,preferFlash:!1}),J(),!tt&&Mt&&(Ct.push(x.needFlash),rt.setup({flashLoadTimeout:1})),ht.removeEventListener&&ht.removeEventListener("DOMContentLoaded",k,!1),T(),!0)},G=function(){return"complete"===ht.readyState&&(k(),ht.detachEvent("onreadystatechange",G)),!0},C=function(){yt=!0,k(),K.remove(Xt,"load",C)},et(),K.add(Xt,"focus",w),K.add(Xt,"load",m),K.add(Xt,"load",C),ht.addEventListener?ht.addEventListener("DOMContentLoaded",k,!1):ht.attachEvent?ht.attachEvent("onreadystatechange",G):I({type:"NO_DOM2_EVENTS",fatal:!0})}if(!Xt||!Xt.document)throw Error("SoundManager requires a browser with window and document objects.");var t=null;Xt.SM2_DEFER!==Qt&&SM2_DEFER||(t=new e),"object"==typeof module&&module&&"object"==typeof module.exports?(module.exports.SoundManager=e,module.exports.soundManager=t):"function"==typeof define&&define.amd&&define(function(){return{constructor:e,getInstance:function(t){return!Xt.soundManager&&t instanceof Function&&((t=t(e))instanceof e&&(Xt.soundManager=t)),Xt.soundManager}}}),Xt.SoundManager=e,Xt.soundManager=t}(window);var initAverageUserRatings,initUserRatings,addToHomeConfig={animationIn:"fade",animationOut:"fade",lifespan:5e3,expire:43200,returningVisitor:!0,touchIcon:!0,message:"Tap %icon to add AllMusic to your %device's home screen."},addToHome=function(n){var s,o,a,r,l,c,u,d,h,p,f,m,g=n.navigator,i="platform"in g&&/iphone|ipod|ipad/gi.test(g.platform),v=0,y=0,b=0,_={autostart:!0,returningVisitor:!1,animationIn:"drop",animationOut:"fade",startDelay:2e3,lifespan:15e3,bottomOffset:14,expire:0,message:"",touchIcon:!1,arrow:!0,hookOnLoad:!0,closeButton:!0,iterations:100},w={ar:'<span dir="rtl">قم بتثبيت هذا التطبيق على <span dir="ltr">%device:</span>انقر<span dir="ltr">%icon</span> ،<strong>ثم اضفه الى الشاشة الرئيسية.</strong></span>',ca_es:"Per instal·lar aquesta aplicació al vostre %device premeu %icon i llavors <strong>Afegir a pantalla d'inici</strong>.",cs_cz:"Pro instalaci aplikace na Váš %device, stiskněte %icon a v nabídce <strong>Přidat na plochu</strong>.",da_dk:"Tilføj denne side til din %device: tryk på %icon og derefter <strong>Føj til hjemmeskærm</strong>.",de_de:"Installieren Sie diese App auf Ihrem %device: %icon antippen und dann <strong>Zum Home-Bildschirm</strong>.",el_gr:"Εγκαταστήσετε αυτήν την Εφαρμογή στήν συσκευή σας %device: %icon μετά πατάτε <strong>Προσθήκη σε Αφετηρία</strong>.",en_us:"Install this web app on your %device: tap %icon and then <strong>Add to Home Screen</strong>.",es_es:"Para instalar esta app en su %device, pulse %icon y seleccione <strong>Añadir a pantalla de inicio</strong>.",fi_fi:"Asenna tämä web-sovellus laitteeseesi %device: paina %icon ja sen jälkeen valitse <strong>Lisää Koti-valikkoon</strong>.",fr_fr:"Ajoutez cette application sur votre %device en cliquant sur %icon, puis <strong>Ajouter à l'écran d'accueil</strong>.",he_il:'<span dir="rtl">התקן אפליקציה זו על ה-%device שלך: הקש %icon ואז <strong>הוסף למסך הבית</strong>.</span>',hr_hr:"Instaliraj ovu aplikaciju na svoj %device: klikni na %icon i odaberi <strong>Dodaj u početni zaslon</strong>.",hu_hu:"Telepítse ezt a web-alkalmazást az Ön %device-jára: nyomjon a %icon-ra majd a <strong>Főképernyőhöz adás</strong> gombra.",it_it:"Installa questa applicazione sul tuo %device: premi su %icon e poi <strong>Aggiungi a Home</strong>.",ja_jp:"このウェブアプリをあなたの%deviceにインストールするには%iconをタップして<strong>ホーム画面に追加</strong>を選んでください。",ko_kr:'%device에 웹앱을 설치하려면 %icon을 터치 후 "홈화면에 추가"를 선택하세요',nb_no:"Installer denne appen på din %device: trykk på %icon og deretter <strong>Legg til på Hjem-skjerm</strong>",nl_nl:"Installeer deze webapp op uw %device: tik %icon en dan <strong>Voeg toe aan beginscherm</strong>.",pl_pl:"Aby zainstalować tę aplikacje na %device: naciśnij %icon a następnie <strong>Dodaj jako ikonę</strong>.",pt_br:"Instale este aplicativo em seu %device: aperte %icon e selecione <strong>Adicionar à Tela Inicio</strong>.",pt_pt:"Para instalar esta aplicação no seu %device, prima o %icon e depois o <strong>Adicionar ao ecrã principal</strong>.",ru_ru:"Установите это веб-приложение на ваш %device: нажмите %icon, затем <strong>Добавить в «Домой»</strong>.",sv_se:"Lägg till denna webbapplikation på din %device: tryck på %icon och därefter <strong>Lägg till på hemskärmen</strong>.",th_th:"ติดตั้งเว็บแอพฯ นี้บน %device ของคุณ: แตะ %icon และ <strong>เพิ่มที่หน้าจอโฮม</strong>",tr_tr:"Bu uygulamayı %device'a eklemek için %icon simgesine sonrasında <strong>Ana Ekrana Ekle</strong> düğmesine basın.",uk_ua:"Встановіть цей веб сайт на Ваш %device: натисніть %icon, а потім <strong>На початковий екран</strong>.",zh_cn:"您可以将此应用程式安装到您的 %device 上。请按 %icon 然后点选<strong>添加至主屏幕</strong>。",zh_tw:"您可以將此應用程式安裝到您的 %device 上。請按 %icon 然後點選<strong>加入主畫面螢幕</strong>。"};function x(){if(n.removeEventListener("load",x,!1),d?_.expire&&c&&n.localStorage.setItem("addToHome",Date.now()+6e4*_.expire):n.localStorage.setItem("addToHome",Date.now()),p||a&&c&&!u&&!r&&d){var t="",e=g.platform.split(" ")[0],i=g.language.replace("-","_");(h=document.createElement("div")).id="addToHomeScreen",h.style.cssText+="left:-9999px;-webkit-transition-property:-webkit-transform,opacity;-webkit-transition-duration:0;-webkit-transform:translate3d(0,0,0);position:"+(l<5?"absolute":"fixed"),_.message in w&&(i=_.message,_.message=""),""===_.message&&(_.message=i in w?w[i]:w.en_us),_.touchIcon&&(t=o?document.querySelector('head link[rel^=apple-touch-icon][sizes="114x114"],head link[rel^=apple-touch-icon][sizes="144x144"],head link[rel^=apple-touch-icon]'):document.querySelector('head link[rel^=apple-touch-icon][sizes="57x57"],head link[rel^=apple-touch-icon]'))&&(t='<span style="background-image:url('+t.href+')" class="addToHomeTouchIcon"></span>'),h.className=(s?"addToHomeIpad":"addToHomeIphone")+(t?" addToHomeWide":""),h.innerHTML=t+_.message.replace("%device",e).replace("%icon",4.2<=l?'<span class="addToHomeShare"></span>':'<span class="addToHomePlus">+</span>')+(_.arrow?'<span class="addToHomeArrow"></span>':"")+(_.closeButton?'<span class="addToHomeClose">×</span>':""),document.body.appendChild(h),_.closeButton&&h.addEventListener("click",C,!1),!s&&6<=l&&window.addEventListener("orientationchange",O,!1),setTimeout(T,_.startDelay)}}function T(){var t,e=208;if(s)switch(l<5?(y=n.scrollY,v=n.scrollX):l<6&&(e=160),h.style.top=y+_.bottomOffset+"px",h.style.left=v+e-Math.round(h.offsetWidth/2)+"px",_.animationIn){case"drop":t="0.6s",h.style.webkitTransform="translate3d(0,"+-(n.scrollY+_.bottomOffset+h.offsetHeight)+"px,0)";break;case"bubble":t="0.6s",h.style.opacity="0",h.style.webkitTransform="translate3d(0,"+(y+50)+"px,0)";break;default:t="1s",h.style.opacity="0"}else switch(y=n.innerHeight+n.scrollY,l<5?(v=Math.round((n.innerWidth-h.offsetWidth)/2)+n.scrollX,h.style.left=v+"px",h.style.top=y-h.offsetHeight-_.bottomOffset+"px"):(h.style.left="50%",h.style.marginLeft=-Math.round(h.offsetWidth/2)-(n.orientation%180&&6<=l?40:0)+"px",h.style.bottom=_.bottomOffset+"px"),_.animationIn){case"drop":t="1s",h.style.webkitTransform="translate3d(0,"+-(y+_.bottomOffset)+"px,0)";break;case"bubble":t="0.6s",h.style.webkitTransform="translate3d(0,"+(h.offsetHeight+_.bottomOffset+50)+"px,0)";break;default:t="1s",h.style.opacity="0"}h.offsetHeight,h.style.webkitTransitionDuration=t,h.style.opacity="1",h.style.webkitTransform="translate3d(0,0,0)",h.addEventListener("webkitTransitionEnd",M,!1),m=setTimeout(k,_.lifespan)}function k(){if(clearInterval(f),clearTimeout(m),m=null,h){var t=0,e=0,i="1",o="0";switch(_.closeButton&&h.removeEventListener("click",C,!1),!s&&6<=l&&window.removeEventListener("orientationchange",O,!1),l<5&&(t=s?n.scrollY-y:n.scrollY+n.innerHeight-y,e=s?n.scrollX-v:n.scrollX+Math.round((n.innerWidth-h.offsetWidth)/2)-v),h.style.webkitTransitionProperty="-webkit-transform,opacity",_.animationOut){case"drop":s?(o="0.4s",i="0",t+=50):(o="0.6s",t+=h.offsetHeight+_.bottomOffset+50);break;case"bubble":s?(o="0.8s",t-=h.offsetHeight+_.bottomOffset+50):(o="0.4s",i="0",t-=50);break;default:o="0.8s",i="0"}h.addEventListener("webkitTransitionEnd",M,!1),h.style.opacity=i,h.style.webkitTransitionDuration=o,h.style.webkitTransform="translate3d("+e+"px,"+t+"px,0)"}}function C(){n.sessionStorage.setItem("addToHomeSession","1"),u=!0,k()}function M(){if(h.removeEventListener("webkitTransitionEnd",M,!1),h.style.webkitTransitionProperty="-webkit-transform",h.style.webkitTransitionDuration="0.2s",!m)return h.parentNode.removeChild(h),void(h=null);l<5&&m&&(f=setInterval(t,_.iterations))}function t(){var t=new WebKitCSSMatrix(n.getComputedStyle(h,null).webkitTransform),e=s?n.scrollY-y:n.scrollY+n.innerHeight-y,i=s?n.scrollX-v:n.scrollX+Math.round((n.innerWidth-h.offsetWidth)/2)-v;e==t.m42&&i==t.m41||(h.style.webkitTransform="translate3d("+i+"px,"+e+"px,0)")}function O(){h.style.marginLeft=-Math.round(h.offsetWidth/2)-(n.orientation%180&&6<=l?40:0)+"px"}return function(){if(i){var t,e=Date.now();if(n.addToHomeConfig)for(t in n.addToHomeConfig)_[t]=n.addToHomeConfig[t];_.autostart||(_.hookOnLoad=!1),s=/ipad/gi.test(g.platform),o=n.devicePixelRatio&&1<n.devicePixelRatio,a=/Safari/i.test(g.appVersion)&&!/CriOS/i.test(g.appVersion),r=g.standalone,l=(l=g.appVersion.match(/OS (\d+_\d+)/i))&&l[1]?+l[1].replace("_","."):0,b=+n.localStorage.getItem("addToHome"),u=n.sessionStorage.getItem("addToHomeSession"),d=!_.returningVisitor||b&&e<b+24192e5,b||(b=e),c=d&&b<=e,_.hookOnLoad?n.addEventListener("load",x,!1):!_.hookOnLoad&&_.autostart&&x()}}(),{show:function(t){i&&!h&&(p=t,x())},close:k,reset:function(){n.localStorage.removeItem("addToHome"),n.sessionStorage.removeItem("addToHomeSession")}}}(window),Cookie={create:function(t,e,i){var o="";if(i){var n=new Date;n.setTime(n.getTime()+24*i*60*60*1e3),o="; expires="+n.toGMTString()}document.cookie=t+"="+e+o+"; path=/"},read:function(t){for(var e=t+"=",i=document.cookie.split(";"),o=null,n=0;n<i.length;n++){for(var s=i[n];" "==s.charAt(0);)s=s.substring(1,s.length);0===s.indexOf(e)&&(o=s.substring(e.length,s.length))}return o},erase:function(t){this.create(t,"",-1)},readVar:function(t){var e,i=decodeURIComponent(this.read("allmusic_session"));if(0<i.length){var o=new RegExp("\\;s\\:"+t.length+'\\:\\"'+t+'"\\;s\\:[0-9]+\\:\\"(.+?)\\"').exec(i);o&&(e=o[1])}return e}},User={loggedIn:function(){var t=Cookie.read("allmusic_session_remember"),e=!1;if(t)e=!0;else var i=($.ajax({url:"/check_logged_in?"+Date.now().toString(),async:!1,dataType:"json",success:function(t){i=t}}),void((e=1===i||null!=Cookie.read("remember"))&&(Cookie.create("registration_prompt","true","90"),Cookie.create("allmusic_session_remember","true"))));return e}()};$(function(){if("undefined"==typeof console){var t=["log","debug","info","warn","error","assert","dir","dirxml","group","groupEnd","time","timeEnd","count","trace","profile","profileEnd"];window.console={};for(var e=0;e<t.length;e++)window.console[t[e]]=function(){}}Date.now=Date.now||function(){return+new Date},$(document).delegate('a[href^="http:"]',"click",function(){var t=$(this);void 0===t.attr("target")&&(!0===t.is("[data-target]")?t.attr("target",t.data("target")):!1===t.is('[href^="http://'+document.domain+'"]')&&t.attr("target","_blank"))}),$(document).delegate('a[href^="https:"]',"click",function(){var t=$(this);void 0===t.attr("target")&&(!0===t.is("[data-target]")?t.attr("target",t.data("target")):!1===t.is('[href^="https://'+document.domain+'"]')&&t.attr("target","_blank"))}),$(document).delegate("a","click",function(){var t=$(this);if("false"===Cookie.readVar("autotune_display")){var e=$(this).attr("href");(1<e.length&&!0===t.is('[href^="http://'+document.domain+'"]')||!0===t.is('[href^="https://'+document.domain+'"]')||!0===t.is('[href^="/"]'))&&t.attr("href",e+"?autotune=false")}}),$('<a href="#" id="show_profiler">show profiler</a>').insertBefore("#codeigniter_profiler").click(function(t){t.preventDefault();var e=$(this),i=$("#codeigniter_profiler");e.hide(),i.show(),$("html, body").animate({scrollTop:i.offset().top-50})}),$("img.lazy").show().lazyload({effect:"fadeIn",failure_limit:100,threshold:200}),Modernizr.input.placeholder||Modernizr.load({load:cdnURL+"/js/jquery/plugins/jquery.placeholder.js",complete:function(){$("input, textarea").placeholder()}}),(!Modernizr.testAllProps("boxSizing")||void 0!==document.documentMode&&document.documentMode<=7)&&Modernizr.load({load:cdnURL+"/js/lib/borderBoxModel.js",complete:function(){}}),enquire.register("screen and (min-width: "+fullMinWidth+"px)",{match:function(){$(document).on("click",".getSatisfactionLink",function(t){void 0!==feedback_widget&&(t.preventDefault(),feedback_widget.show())})}}),String.prototype.rot13=function(){return this.replace(/[a-zA-Z]/g,function(t){return String.fromCharCode((t<="Z"?90:122)>=(t=t.charCodeAt(0)+13)?t:t-26)})},$('a[href^="mailto:"]').each(function(){var t=$(this),e=t.html().rot13();t.html(e).attr("href","mailto:"+e)})}),function(d){d.widget("allmusic.typeahead",{_lastTerm:null,options:{itemSelector:".result",minLength:3,minPause:500,seeAllLink:!0,url:"//"+urlSubdomain+".allmusic.com/search/typeahead/all",select:null},_create:function(){var l,c,u=this;u.element.attr("autocomplete","off"),d.manageAjax.create("allmusic.typeahead",{queue:!1,cacheResponse:!0}),l=d('<div class="allmusic-typeahead">').css({display:"none",position:"absolute"}).append('<div class="typeahead-results searching"><span class="typeahead-searching-msg" style=""><h3 style="color:#A9A9A9;">Searching<span class="dots"></span></span></h3>'),u.options.seeAllLink&&l.append('<div class="see-all">'),l.on("click",".result",function(t){if(t.preventDefault(),"function"==typeof u.options.select){if("false"===Cookie.readVar("autotune_display")){var e=d(this).attr("data-url");d(this).attr("data-url",e+"?autotune=false")}u.options.select.call(u.element,d(this).data())}}),l.mouseenter(function(){d.manageAjax.abort("allmusic.typeahead")}),l.insertAfter(u.element),d(document).click(function(){l.is(":visible")&&0===d(this).closest(".allmusic-typeahead").length&&l.hide()}),u.element.keydown(function(t){var e,i,o=40,n=38,s=13,a=108,r=27;switch(t.which){case o:case n:t.preventDefault(),d.manageAjax.abort("allmusic.typeahead"),e=(c=l.find(u.options.itemSelector)).filter(".focus"),i=c.index(e),e.removeClass("focus"),t.which==o?-1==i?c.filter(":first").addClass("focus"):c.length>i&&c.eq(i+1).addClass("focus"):t.which==n&&(-1==i?c.filter(":last").addClass("focus"):0<i&&c.eq(i-1).addClass("focus"));break;case s:case a:0<(e=(c=l.find(u.options.itemSelector)).filter(".focus")).length&&"function"==typeof u.options.select&&(t.preventDefault(),e.click(),l.hide());break;case r:l.hide();break;default:setTimeout(function(){var t,e=d.trim(u.element.val().toLowerCase());e.length<u.options.minLength?l.hide():e!=u._lastTerm&&(u._lastTerm=e,u.options.seeAllLink&&(t=d("<a>").attr("href","/search/all/"+encodeURIComponent(e)).text('See All Results for "'+e+'"'),l.find(".see-all").html(t)),d.manageAjax.add("allmusic.typeahead",{url:u.options.url+"/"+encodeURIComponent(e),success:function(t){t.length?(l.find(".typeahead-results").removeClass("searching").html(t),position=u._position(),l.css({top:position.top+"px",left:position.left+"px"}),l.show()):(position=u._position(),l.css({position:"absolute",top:position.top+"px",left:position.left+"px",display:"block"}))}}))},u.options.minPause)}})},_position:function(){var t=this.element.position();return t.top+=this.element.outerHeight(),t}});var t=0;setInterval(function(){t<3?(d(".typeahead-results .dots").append("."),t++):(d(".typeahead-results .dots").html(""),t=0)},1e3)}(jQuery),function(a){a.manageAjax.create("allmusic.sample_tracking",{cacheResponse:!1,queue:!1}),a.widget("allmusic.audioPlayer",{options:{bgColor:"#24aae1",color:"#7e7e7e"},_create:function(){var o=this,t=o.element.data("sample-url");if(a.manageAjax.create("allmusic.audioPlayer",{cacheResponse:!1,queue:!1}),!is_iDevice_AllMusic){var e,n;for(var i in o._audioUrls=[],t.match(/.*\.json.*/)?a.manageAjax.add("allmusic.audioPlayer",{async:!1,dataType:"json",url:t,success:function(t){o._audioUrls=t}}):o._audioUrls.push({sample:t}),o._playlist=[],o._audioUrls)(e=document.createElement("a")).href=o._audioUrls[i].sample,e.href=e.href.replace(/&amp;/g,"&"),n=soundManager.createSound(e.search,e.href),o._playlist.push(n);o._index=0,o._sound=o._playlist[o._index]}o.element.click(function(t){if(t.preventDefault(),is_iDevice_AllMusic){var e=o.element.data("sample-url"),i=e.match(/(\?.*)/)[1];o._playlist=[],n=soundManager.createSound(i,e),o._playlist.push(n),o._index=0,o._sound=o._playlist[o._index]}0===o._sound.playState?(a.manageAjax.add("allmusic.sample_tracking",{url:"/sample/sample_log",data:{tracklId:o.element.data("sample-trackid"),artist:o.element.data("sample-artist"),title:o.element.data("sample-title")},type:"POST",cache:!1}),o.play()):o._sound.paused?o.resume():o.pause()});var s=o.element.find("canvas");s.length&&s[0].getContext?o._canvas=s[0]:o._canvas=!1},play:function(){var t=this;t._pauseAll(),t._sound.play({whileplaying:function(){t._animate()},onfinish:function(){t._index<t._playlist.length-1?(t._index++,t._sound=t._playlist[t._index],t.play()):(t._index=0,t._sound=t._playlist[0],t.element.removeClass("playing").addClass("default"),t._canvas&&t._canvas.getContext("2d").clearRect(0,0,t._canvas.width,t._canvas.height))}}),t.element.removeClass("default").addClass("playing"),isMobile_AllMusic||"title"in t._audioUrls[t._index]&&t.element.attr("title","Now Playing: "+t._audioUrls[t._index].title)},pause:function(){this._sound.pause(),this.element.removeClass("playing").addClass("paused")},resume:function(){this._pauseAll(),this._sound.resume(),this.element.removeClass("paused").addClass("playing")},_pauseAll:function(){a(":allmusic-audioPlayer.playing").audioPlayer("pause")},_animate:function(){if(this._canvas){var t=this._canvas,e=this._sound.position/3e4,i=t.getContext("2d"),o=t.width/2,n=t.height/2,s=.4*t.width,a=.18*t.width;if(i.clearRect(0,0,t.width,t.height),i.beginPath(),i.arc(o,n,s,0,2*Math.PI),i.lineWidth=a,i.strokeStyle=this.options.bgColor,i.stroke(),0<e&&e<1){var r=1.5*Math.PI,l=(2*e-.5)*Math.PI;i.beginPath(),i.arc(o,n,s,r,l),i.lineWidth=a,i.strokeStyle=this.options.color,i.stroke()}}}}),soundManager&&soundManager.setup({debugMode:!1,flashVersion:9,preferFlash:!1,url:cdnURL+"/swf/soundmanager2/",useFlashBlock:!1,onready:function(){a(".audio-player").audioPlayer()}})}(jQuery),function(s){s.manageAjax.create("allmusic.averageUserRatingAJAX",{cacheResponse:!1,queue:!1}),s.widget("allmusic.averageUserRating",{options:{itemId:"",score:0,count:0,spriteClasses:["rating-average-0","rating-average-1","rating-average-2","rating-average-3","rating-average-4","rating-average-5","rating-average-6","rating-average-7","rating-average-8","rating-average-9","rating-average-10"]},_create:function(){this.options.itemId=this.element.data("id"),this.element.data("score")&&(this.options.score=this.element.data("score")),this._displayRating(this.options.score),s('.average-user-rating-count[data-id="'+this.options.itemId+'"]').text(this.options.count.toLocaleString())},_setOptions:function(t){if(void 0!==t.score&&this._displayRating(t.score),t.count&&(s('.average-user-rating-count[data-id="'+this.options.itemId+'"]').text(t.count.toLocaleString()),this.element.closest(".discography, .appearances, .list-container, .similar-albums").length)){var e=this.element.closest("td"),i=t.score/100+t.count/1e8+"-"+e.data("secondary-sort");e.data("sort-value",i)}},_displayRating:function(t){var e=this.options.spriteClasses[0];0<t&&(e="rating-average-"+t),this.element.removeClass(this.options.spriteClasses.join(" ")).addClass(e)},refresh:function(){var i=this;s.manageAjax.add("allmusic.averageUserRatingAJAX",{url:"/rating/average/"+i.options.itemId,dataType:"json",cache:!1,success:function(t){if(t.length){var e=t[0];i._setOptions({score:Math.ceil(e.average/10),count:e.count})}}})}}),(initAverageUserRatings=function(){var o,n=[];for(o=s(this).find(".average-user-rating").not(".allmusic-averageUserRating").each(function(){var t=s(this),e=t.data("id"),i=t.data("score");void 0!==i?t.averageUserRating({score:Math.ceil(i/10)}):(t.averageUserRating(),n.push(e))});n.length;)s.manageAjax.add("allmusic.averageUserRatingAJAX",{url:"/rating/average/"+n.splice(0,20).join(","),dataType:"json",cache:!1,success:function(t){if(t.length)for(var e in t){var i=t[e];o.filter('[data-id="'+i.itemId+'"]').averageUserRating({score:Math.ceil(i.average/10),count:i.count})}}})}).call(document)}(jQuery),function(n){n.manageAjax.create("allmusic.userRating",{cacheResponse:!1,queue:!1}),n.widget("allmusic.userRating",{options:{artist:null,id:"",score:0,spriteClasses:["rating-user-0","rating-user-1","rating-user-2","rating-user-3","rating-user-4","rating-user-5","rating-user-6","rating-user-7","rating-user-8","rating-user-9","rating-user-10"],title:null},_create:function(){var t=this;n.extend(t.options,t.element.data()),t._displayRating(t.options.score),enquire.register("screen and (min-width: "+fullMinWidth+"px)",{match:function(){t._bindMouseInteraction()},unmatch:function(){t.element.unbind(".userRating.mouse")}}),enquire.register("screen and (max-width: "+mobileMaxWidth+"px)",{match:function(){t._bindTouchInteraction()},unmatch:function(){t.element.unbind(".userRating.touch")}})},_setOptions:function(t){n.extend(this.options,t),void 0!==t.score&&this._displayRating(this.options.score)},_displayRating:function(t){var e=this.options.spriteClasses[0];0<t&&(e="rating-user-"+t),this.element.removeClass(this.options.spriteClasses.join(" ")).addClass(e)},_eventToScore:function(t){(t.originalEvent.touches||t.originalEvent.changedTouches)&&(t=t.originalEvent.touches[0]||t.originalEvent.changedTouches[0]);n(t.target);var e=(t.offsetX||t.pageX-n(t.target).offset().left)/n(t.target).width();return Math.min(Math.max(Math.ceil(10*e),0),10)},_showTooltip:function(){0===this.element.closest(".tooltip").length&&n().qtip&&(n("<div>").qtip({show:{ready:!0,solo:!0},position:{my:"top center",at:"bottom center",viewport:n(window),target:this.element,adjust:{}},style:{classes:"ratings-signup-tooltip",tip:{corner:!0,width:12,height:6}},hide:{delay:200,fixed:!0,inactive:5e3,event:"mouseleave"},content:{text:'<p>Sign up or log in to rate albums and get personalized recommendations.</p><a class="button sign-up" href="/join">Sign Up</a><a class="button open-login-modal" href="#">Log In</a><a class="button facebook-login" href="/oauth/facebook">Sign Up Using Facebook <span class="icon"></span></a>'},events:{hide:function(t,e){e.destroy()}}}),n(document).on("click",".ratings-signup-tooltip .open-login-modal",function(){n(".ratings-signup-tooltip").qtip("hide")}))},_bindMouseInteraction:function(){var o=this;o.element.on({"click.userRating.mouse":function(t){if(User.loggedIn){var e=o._eventToScore(t);o.options.score=e,o._displayRating(o.options.score),o._saveRating()}else{if("sessionStorage"in window){e=o._eventToScore(t);sessionStorage.setItem("albumRating",e);var i=o.options.id;sessionStorage.setItem("albumId",i)}o._showTooltip()}},"mousemove.userRating.mouse":function(t){if(!Modernizr.touch){var e=o._eventToScore(t);o._displayRating(e)}},"mouseout.userRating.mouse":function(t){Modernizr.touch||(0<o.options.score?o._displayRating(o.options.score):o._displayRating(0))}})},_bindTouchInteraction:function(){var e=this;e.element.on({"click.userRating.touch":function(t){t.preventDefault(),User.loggedIn?e._openMobileRatingModal():e._openMobileLoginModal()}})},_openMobileLoginModal:function(){this.element.remove(".user-rating-mobile-login-modal"),n("body").on("touchmove.userRating.preventScrolling",function(t){t.preventDefault()}),n('<div class="user-rating-mobile-login-modal">').css({position:"fixed",top:0,left:0,zIndex:51,width:"100%",height:"100%"}).html('<h2>Sign up to log in to your AllMusic account to rate albums and get personalized recommendations.</h2><p><a href="/join" class="button">Sign Up</a></p><p><a href="#" class="button open-login-modal">Log In</a></p><p><a href="/oauth/facebook" class="button facebook-login">Log in using Facebook <span class="icon"></span></a></p><a href="#" class="close">CLOSE [X]</a>').appendTo("body").find(".close").click(function(t){t.preventDefault(),n(this).parent().remove(),n("body").unbind("touchmove.userRating.preventScrolling")})},_openMobileRatingModal:function(){var t,e,i=this;i.element.remove(".user-rating-mobile-rating-modal"),n("body").addClass("modal-open"),e="<h1>Your Rating:</h1>",i.options.artist&&(e+='<p class="artist">'+i.options.artist+"</p>"),i.options.title&&(e+='<p class="title">'+i.options.title+"</p>"),e+='<p class="mobile-user-rating"></p><a href="#" class="close">CLOSE [X]</a>',(t=n('<div class="user-rating-mobile-rating-modal">').css({position:"fixed",top:0,left:0,zIndex:51,width:"100%",height:"100%"}).html(e)).find(".mobile-user-rating").addClass("rating-user-"+i.options.score),t.find(".close").click(function(t){t.preventDefault(),n(this).closest(".user-rating-mobile-rating-modal").remove(),n("body").removeClass("modal-open")}),t.appendTo("body"),t.find(".mobile-user-rating").on({"touchstart.userRating.touch touchmove.userRating.touch":function(t){t.preventDefault();var e=i._eventToScore(t);n(this).removeClass(i.options.spriteClasses.join(" ")).addClass("rating-user-"+e)},"touchend.userRating.touch":function(t){t.preventDefault();var e=i._eventToScore(t);i.options.score=e,i._displayRating(i.options.score),i._saveRating(),n(this).closest(".user-rating-mobile-rating-modal").remove(),n("body").unbind("touchmove.userRating.preventScrolling")},"touchcancel.userRating.touch":function(t){t.preventDefault(),n(this).removeClass(i.options.spriteClasses.join(" ")).addClass("rating-user-"+i.options.score)},"click.userRating.touch":function(t){t.preventDefault();var e=i._eventToScore(t);i.options.score=e,i._displayRating(i.options.score),i._saveRating()},"mousemove.userRating.touch":function(t){if(!Modernizr.touch){var e=i._eventToScore(t);n(this).removeClass(i.options.spriteClasses.join(" ")).addClass("rating-user-"+e)}},"mouseout.userRating.touch":function(t){Modernizr.touch||(0<i.options.score?n(this).removeClass(i.options.spriteClasses.join(" ")).addClass("rating-user-"+i.options.score):n(this).removeClass(i.options.spriteClasses.join(" ")).addClass("rating-user-0"))}})},_saveRating:function(){var e=this;n.post("/rating/save",{id:e.options.id,score:10*e.options.score},function(){n(window.parent.document).find(".user-rating").filter('[data-id="'+e.options.id+'"]').each(function(){var t=n(this);t.removeClass("rating-user-0"),t.removeClass("rating-user-1"),t.removeClass("rating-user-2"),t.removeClass("rating-user-3"),t.removeClass("rating-user-4"),t.removeClass("rating-user-5"),t.removeClass("rating-user-6"),t.removeClass("rating-user-7"),t.removeClass("rating-user-8"),t.removeClass("rating-user-9"),t.removeClass("rating-user-10"),t.userRating({score:e.options.score})});n().averageUserRating&&n(window.parent.document).find(".average-user-rating").filter('[data-id="'+e.options.id+'"]').averageUserRating("refresh")})}}),(initUserRatings=function(){var o,i=[],t=!1,e=!1;"sessionStorage"in window&&(t=sessionStorage.getItem("albumRating"),e=sessionStorage.getItem("albumId")),User.loggedIn&&t&&e&&(n.post("/rating/save",{id:e,score:10*t},function(){n(".user-rating").addClass("rating-user-"+t)}),sessionStorage.removeItem("albumRating"),sessionStorage.removeItem("albumId")),o=n(this).find(".user-rating").not(":allmusic-userRating").each(function(){var t=n(this),e=t.data("score");void 0!==e?t.userRating({score:Math.ceil(e/10)}):(t.userRating(),i.push(t.data("id")))});for(;i.length;)n.manageAjax.add("allmusic.userRating",{url:"/rating/user/"+i.splice(0,20).join(","),dataType:"json",cache:!1,success:function(t){if(t.length)for(var e in t){var i=t[e];o.filter('[data-id="'+i.itemId+'"]').userRating({score:Math.ceil(i.score/10)})}}})}).call(document)}(jQuery);var initUserSongCollection,isInUserSongCollection=!1;!function(r){r.manageAjax.create("allmusic.userSongCollection",{cacheResponse:!1,queue:!1}),r.widget("allmusic.userSongCollection",{options:{itemId:"",artist:"",song:"",state:""},_create:function(){var t=this;r.extend(t.options,t.element.data()),enquire.register("screen and (min-width: "+fullMinWidth+"px)",{match:function(){t._bindMouseInteraction()},unmatch:function(){t.element.unbind(".userSongCollection.mouse")}}),enquire.register("screen and (max-width: "+mobileMaxWidth+"px)",{match:function(){t._bindTouchInteraction()},unmatch:function(){t.element.unbind(".userSongCollection.touch")}})},_setOptions:function(t){r.extend(this.options,t)},_showTooltip:function(){0===this.element.closest(".tooltip").length&&r().qtip&&(r("<div>").qtip({show:{ready:!0,solo:!0},position:{my:"top center",at:"bottom center",viewport:r(window),target:this.element,adjust:{}},style:{classes:"ratings-signup-tooltip",tip:{corner:!0,width:12,height:6}},hide:{delay:200,fixed:!0,inactive:5e3,event:"mouseleave"},content:{text:'<p>Sign up or log in to create lists of albums on AllMusic.</p><a class="button sign-up" href="/join">Sign Up</a><a class="button open-login-modal" href="#">Log In</a><a class="button facebook-login" href="/oauth/facebook">Sign Up Using Facebook <span class="icon"></span></a>'},events:{hide:function(t,e){e.destroy()}}}),r(document).on("click",".ratings-signup-tooltip .open-login-modal",function(){r(".ratings-signup-tooltip").qtip("hide")}))},_bindMouseInteraction:function(){var s=this;s.element.on({"click.userSongCollection.mouse":function(t){if(User.loggedIn)isInUserSongCollection?(isInUserSongCollection=!1,s._removeSongFromCollection()):(isInUserSongCollection=!0,s._addSongToCollection());else{if("sessionStorage"in window){var e=r(this),i=e.data("performance_title"),o=e.data("artist_name"),n=e.data("perf_id");sessionStorage.songfavorite_performance_title=i,sessionStorage.songfavorite_artist_name=o,sessionStorage.songfavorite_perf_id=n}s._showTooltip()}}})},_bindTouchInteraction:function(){var e=this;e.element.on({"click.userSongCollection.touch":function(t){t.preventDefault(),User.loggedIn?1==isInUserSongCollection?(isInUserSongCollection=!1,e._removeSongFromCollection()):(isInUserSongCollection=!1,e._addSongToCollection()):e._openMobileLoginModal()}})},_openMobileLoginModal:function(){this.element.remove(".user-rating-mobile-login-modal"),r("body").on("touchmove.userSongCollection.preventScrolling",function(t){t.preventDefault()}),r('<div class="user-rating-mobile-login-modal">').css({position:"fixed",top:0,left:0,zIndex:51,width:"100%",height:"100%"}).html('<h2>Sign up or log in to create lists of albums on AllMusic </h2><p><a href="/join" class="button">Sign Up</a></p><p><a href="#" class="button open-login-modal">Log In</a></p><p><a href="/oauth/facebook" class="button facebook-login">Log in using Facebook <span class="icon"></span></a></p><a href="#" class="close">CLOSE [X]</a>').appendTo("body").find(".close").click(function(t){t.preventDefault(),r(this).parent().remove(),r("body").unbind("touchmove.userSongCollection.preventScrolling")})},_addSongToCollection:function(){var e=this;r.manageAjax.add("allmusic.songCollection",{url:"/collections/save_collection_item",dataType:"json",type:"POST",data:{itemId:e.options.itemId,type:"song",artist:e.options.artist,song:e.options.song},cache:!1,success:function(t){r(document).find(".song-favorite-trigger").filter('[data-perf_id="'+e.options.itemId+'"]').addClass("favorited").attr("data-collection_state","favorited")}})},_removeSongFromCollection:function(){r.manageAjax.add("allmusic.songCollection",{url:"/collections/remove_collection_item",dataType:"json",type:"POST",data:{itemId:this.options.itemId,type:"song"},cache:!1}),r(document).find(".song-favorite-trigger").filter('[data-perf_id="'+this.options.itemId+'"]').removeClass("favorited").attr("data-collection_state","")}}),(initUserSongCollection=function(){var a,t,e,i,s=[];"sessionStorage"in window&&(t=sessionStorage.getItem("songfavorite_perf_id"),e=sessionStorage.getItem("songfavorite_artist_name"),i=sessionStorage.getItem("songfavorite_performance_title"),User.loggedIn&&t&&e&&i&&(r.manageAjax.add("allmusic.songCollection",{url:"/collections/save_collection_item",dataType:"json",type:"POST",data:{itemId:t,type:"song",artist:e,song:i},cache:!1}),s.push(t),sessionStorage.removeItem("songfavorite_performance_title"),sessionStorage.removeItem("songfavorite_artist_name"),sessionStorage.removeItem("songfavorite_perf_id"))),a=r(this).find(".song-favorite-trigger").each(function(){var t=r(this),e=t.data("performance_title"),i=t.data("artist_name"),o=t.data("perf_id"),n=t.data("collection_state");void 0!==e&&void 0!==i&&void 0!==o?(t.userSongCollection({song:e,artist:i,itemId:o,collection_state:n}),s.push(o)):t.userSongCollection()}),s.length&&r(s).each(function(){var s=r(this)[0];r.manageAjax.add("allmusic.songCollection",{url:"/collections/user",dataType:"json",type:"POST",data:{type:"song"},cache:!1,success:function(t){void 0!==t.collection_items&&t.collection_items.length&&r(t.collection_items).each(function(){var t=r(this)[0].itemId;if(t==s){var e=a.filter('[data-perf_id="'+t+'"]'),i=r(e).data("performance_title"),o=r(e).data("artist_name"),n=r(e).data("perf_id");r(e).data("collection_state");return r(e).userSongCollection({song:i,artist:o,itemId:n,collection_state:"favorited"}),r(e).addClass("favorited").attr("data-collection_state","favorited"),!(isInUserSongCollection=!0)}})}})})}).call(document)}(jQuery),function(r){r.widget("allmusic.lightbox",{options:{class:"",styles:{container:{position:"fixed",display:"none",top:"0",left:"0",width:"100%",height:"100%","background-color":"rgba(0, 0, 0, .92)","z-index":20001},modal:{overflow:"hidden",position:"absolute",top:"50%",left:"50%",padding:"0",margin:"0 auto","background-color":"transparent"},close:{position:"absolute",top:"30px",right:"50px",float:"right","font-size":"14px","font-weight":"bold","text-decoration":"none",color:"#00c3ff",cursor:"pointer"},closeMouseEnter:{color:"#0089c1"},closeMouseLeave:{color:"#00c3ff"}}},_create:function(){},_init:function(){if(!isMobile_AllMusic){var t=this;t.element.on("click.lightbox",function(){t.open(t.element.hasClass("embiggen"))})}},open:function(t){var e=this;if(!0===t)var i=r('<div class="lightbox-container '+e.options.class+'">    <div class="lightbox-modal">        <div class="lightbox-content"></div>       </div>    <span class="lightbox-close">CLOSE [X]</span></div>');else i=r('<div class="lightbox-container '+e.options.class+'">    <div class="lightbox-modal">        <div class="lightbox-content"></div>           <span class="lightbox-close">CLOSE [X]</span>    </div></div>');r(".overflow-container").append(i);var o=r(".lightbox-container").css(this.options.styles.container),n=(o.find(".lightbox-modal").css(this.options.styles.modal),o.find(".lightbox-close").css(this.options.styles.close)),s=e.element.data("lightbox");if(s)if(s.image){var a='<img src="'+s.image.url+'"';s.image.width&&(a+=' width="'+s.image.width+'"'),s.image.height&&(a+=' height="'+s.image.height+'"'),a+=">",s.image.author&&(a+='<div class="author">photo credit:'+s.image.author+"</div>"),s.image.copyrightOwner&&(a+='<div class="copyright">photo credit:'+s.image.copyrightOwner+"</div>"),e.html(a)}else s.url&&o.find(".lightbox-content").load(s.url);n.on("click.lightbox",function(){e.close()}).on("mouseenter.lightbox",function(){r(this).css(e.options.styles.closeMouseEnter)}).on("mouseleave.lightbox",function(){r(this).css(e.options.styles.closeMouseLeave)}),r(document).on("keyup.lightbox",function(t){27==t.keyCode&&e.close()}),o.on("click.lightbox",function(t){0==r(t.target).closest(".lightbox-modal").length&&e.close()}),o.fadeIn(100),this.center()},hide:function(){r(".lightbox-container").css("display","none"),r(".lightbox-modal").css("opacity","0")},show:function(){var t=this;r(".lightbox-container").fadeIn(100,function(){t.center(),r(".lightbox-modal").css("opacity","1")})},close:function(){r(".lightbox-container").fadeOut(100,function(){r(this).remove()})},prepend:function(t){r(".lightbox-content").prepend(t),this.center()},html:function(t){r(".lightbox-content").html(t),this.center()},center:function(){var t=r(".lightbox-modal"),e=t.outerHeight()/2-r(".stripe-container.header-main-nav").outerHeight()/2,i=r(document).find(".max-header"),o=49;r(i).hasClass("fixed")&&(o=0);var n=t.outerWidth()/2;t.css({top:r(window).height()/2-o+"px",left:"50%","margin-left":"0","margin-top":"0"}).css({"margin-left":"-="+n,"margin-top":"-="+e})}}),r("[data-lightbox]").lightbox()}(jQuery),function(a){a.widget("allmusic.tooltip",{options:{id:"",thumbnail:!1,position:{my:"left center",at:"right center",adjust:{x:5}}},_create:function(){var s=this;return null==navigator.userAgent.match(/(iPhone OS)/i)&&(!isMobile_AllMusic&&(a.extend(s.options,s.element.data("tooltip")),void(a().qtip&&s.element.qtip({position:{my:s.options.position.my,at:s.options.position.at,viewport:a(window),adjust:s.options.position.adjust},style:{classes:"tooltip",tip:{width:16,height:8}},show:{solo:!0,delay:800},hide:{delay:800,fixed:!0,inactive:5e3,event:"mouseleave "},content:{text:function(t,n){return a.ajax({url:s._url(),data:{thumbnail:s.options.thumbnail},loading:!1,cache:!1===User.loggedIn}).then(function(t){if(t.length){var e,i=a(t);initUserRatings.call(i),"album"!=fullURLWithPathParts[1]&&"song"!=fullURLWithPathParts[1]||initUserSongCollection.call(i);var o=s._type();o.length&&allmusic.gaTrackEvent({data:["Tooltip","Interaction","User Launches "+o+" Tooltip"]}),User.loggedIn||(e=i.find("canvas")).length&&e[0].getContext&&s._drawLoggedOutTip(e[0]),n.set("content.text",i)}else this.destroy()}),"Loading..."}},events:{render:function(t,e){a.fn.qtip.zindex=9999}}}))))},_type:function(){var t="",e={Album:/^MW[0-9]{10}$/i,Artist:/^MN[0-9]{10}$/i,Release:/^MR[0-9]{10}$/i,Song:/^MT[0-9]{10}$/i};for(var i in e)e[i].test(this.options.id)&&(t=i);return t},_url:function(){return"/tooltip/"+this._type()+"/"+this.options.id},_drawLoggedOutTip:function(t){context=t.getContext("2d"),context.fillStyle="white",context.strokeStyle="#d3d3d3",context.lineWidth=1,context.lineJoin="miter",context.miterLimit=100,context.beginPath(),context.moveTo(0,6),context.lineTo(6,0),context.lineTo(12,6),context.closePath(),context.stroke(),context.fill()}}),a("[data-tooltip]:visible").tooltip()}(jQuery),$(function(){$.getJSON(cdnURL+"/json/gaEvents.json",function(t){if(t)for(var e in t)if(t[e])for(var i in t[e]){var o=t[e][i];$(e).on(o.event,i,o.data,allmusic.gaTrackEvent)}})});var allmusic=allmusic||{};allmusic.gaTrackEvent=function(t){try{var e=$(this);if(e.data("ga-label")&&(t.data[2]=t.data[2].concat(e.data("ga-label"))),ga("send","event",t.data[0],t.data[1],t.data[2]),"#ga"==location.hash)return console.log("GA Event Fired",t.data),t.stopPropagation&&t.stopPropagation(),!1}catch(t){$.error(t)}},$(function(){var t,e;$.manageAjax.create("allmusic.headerJS",{cacheResponse:!1,queue:!1}),$.manageAjax.add("allmusic.headerJS",{url:"//"+urlSubdomain+".allmusic.com/subnav/get_new_releases/8",type:"GET",success:function(t){var e=$(document).find(".sub-nav-content");$(e).html(t),$("div.subnav-featured-new-releases").css("display","block")}}),$.manageAjax.add("allmusic.headerJS",{url:"//"+urlSubdomain+".allmusic.com/subnav/get_blog",type:"GET",success:function(t){var e=$(document).find(".sub-nav-blog-content");$(e).html(t),$("div.subnav-blog-articles").css("display","block")}});var i,c=$(".header-main-nav"),u=$(".max-header"),o=$(".search-container"),n=$(".search-container input[type=search]");resize_search_box=function(){isMobile_AllMusic?($(o).css("width","100%"),$(n).css("width","100%"),$(n).focus(function(){}),$(n).blur(function(){})):($(o).css("width","239px"),$(n).css("width","197px"),$(n).focus(function(){$(o).animate({width:"302px"}),$(n).animate({width:"262px"})}),$(n).blur(function(){""==$(this).val()&&($(o).animate({width:"239px"}),$(n).animate({width:"197px"}))}))},enquire.register("screen and (max-width: "+mobileMaxWidth+"px)",{match:function(){$(".mobile-menu").on("touchstart.mobile click.mobile",function(t){t.preventDefault(),$(".mobile-site-nav").hasClass("active")||$(".mobile-site-nav").css("top",0),$(".mobile-site-nav").toggleClass("active"),$(".overflow-container").toggleClass("mobile-nav-fix"),$(".stripe-container.footer-leaderboard").hide()}),$(".logo").removeAttr("style")},unmatch:function(){$(".mobile-menu").unbind(".mobile"),$(".mobile-site-nav").removeClass("active"),$(".stripe-container.footer-leaderboard").show()},setup:function(){var t=$('<ul class="mobile-site-nav"></ul>');$('<li class="mobile-site-nav-header clearfix"><div class="mobile-site-nav-logo"></div><div class="mobile-site-nav-close"><a href="javascript:void(0);"></a></div></li>').appendTo(t),$(".site-nav > ul > li > a").each(function(){"advanced-search-link"!==$(this).attr("class")&&"videos-link"!==$(this).attr("class")&&$(this).clone().appendTo(t).wrap("<li />")}),User.loggedIn?($('<li class="mobile-nav-notifications"></li>').appendTo(t),$('<li class="mobile-nav-account-settings"><a href="/user/profile">Account Settings</a></li>').appendTo(t),$('<li><a href="/user/sign-out">Log Out</a></li>').appendTo(t)):($('<li><a href="#" class="open-login-modal">Log In</a></li>').appendTo(t),$('<li><a href="/join">Sign Up</a></li>').appendTo(t)),$("body").append(t),$(document).find(".mobile-nav-notifications").load("/user/mobile_nav_notifications"),$(".mobile-site-nav-close").click(function(t){t.preventDefault(),$(".mobile-site-nav").removeClass("active"),$(".overflow-container").toggleClass("mobile-nav-fix")})},deferSetup:!0}),enquire.register("screen and (min-width: "+fullMinWidth+"px)",{match:function(){$(window).on("scroll.header-scroll-interaction",t),$(window).scroll()},unmatch:function(){$(window).unbind(".header-scroll-interaction"),$(c).hasClass("fixed")&&c.removeClass("fixed"),$(u).hasClass("fixed")&&u.removeClass("fixed")},setup:function(){t=function(){var t=$(".header-leaderboard"),e=$(".overflow-container"),i=$(".content-container"),o=t.outerHeight();0==o&&(o=49);var n=$("html").scrollTop()||$("body").scrollTop();if(isMobile_AllMusic?headerIsFixed=!1:headerIsFixed=o<=n,c.toggleClass("fixed",headerIsFixed),u.toggleClass("fixed",headerIsFixed),headerIsFixed){(e.hasClass("album")||e.hasClass("artist"))&&e.css("background-position","0 -99px"),(e.hasClass("collections-cold-start")||e.hasClass("not-logged-in")||e.hasClass("cold-start"))&&(e.css("background-position","center -140px"),i.css("background-position","center top")),c.hasClass("fixed-internal")?t.css("margin-top",u.outerHeight()):t.css("margin-bottom",u.outerHeight());var s=$(document).find(".search-container").position(),a=$(window).scrollLeft(),r=$(document).find(".allmusic-typeahead"),l=0;s&&a&&(l=s.left-a),r&&l?$(r).css("top","39px").css("left",l+"px"):$(r).css("top","39px")}else{(e.hasClass("album")||e.hasClass("artist"))&&e.css("background-position","0 0"),(e.hasClass("collections-cold-start")||e.hasClass("not-logged-in")||e.hasClass("cold-start"))&&(e.css("background-position","center -41px"),i.css("background-position","center top")),t.css("margin-bottom",0);s=$(document).find(".search-container").position(),a=$(window).scrollLeft(),r=$(document).find(".allmusic-typeahead"),l=0;l=s.left-a,r&&l?$(r).css("top","53px").css("left",l+"px"):$(r).css("top","53px")}}},deferSetup:!0}).listen(500),enquire.register("screen and (min-width: "+fullMinWidth+"px)",{match:function(){$(".site-nav > ul > li > a").on("mouseenter.navHoverInteraction",function(){$(".site-nav li.active").removeClass("active"),window.clearTimeout(e),$(this).parent().addClass("active")}),$(".site-nav > ul > li > a").on("mouseleave.navHoverInteraction",function(){e=setTimeout(function(){$(".site-nav li.active").removeClass("active")},500)}),resize_search_box()},unmatch:function(){$(".site-nav li.active").removeClass("active"),window.clearTimeout(e),$(".site-nav > ul > li > a").unbind(".navHoverInteraction"),$(o).css("width","94.5%"),$(n).css("width","88%"),resize_search_box()},setup:function(){},deferSetup:!0}),$(".site-nav").on({mouseenter:function(){$(".moods-arrow, .themes-arrow").hide(),$(".genres-arrow").show().css("display","inline-block"),$(".discover-drop-trigger").on({mouseenter:function(){var t=$(this),e=$(t).attr("id");switch($("ul.discover-nav").find("li.active").removeClass("active"),$(".genres-arrow, .moods-arrow, .themes-arrow").hide(),$(t).addClass("active"),e){case"discover-moods":$(".moods-arrow").show().css("display","inline-block"),$("ul.discover-theme-secondary").css("display","none"),$("ul.discover-genre-secondary").css("display","none"),$("ul.discover-mood-secondary").css("display","block");break;case"discover-themes":$(".themes-arrow").show().css("display","inline-block"),$("ul.discover-mood-secondary").css("display","none"),$("ul.discover-genre-secondary").css("display","none"),$("ul.discover-theme-secondary").css("display","block");break;default:$(".genres-arrow").show().css("display","inline-block"),$("ul.discover-mood-secondary").css("display","none"),$("ul.discover-theme-secondary").css("display","none"),$("ul.discover-genre-secondary").css("display","block")}}})},mouseleave:function(){$("ul.discover-nav").find("li.active").removeClass("active"),$("ul.discover-mood-secondary").css("display","none"),$("ul.discover-genre-secondary").css("display",""),$("ul.discover-theme-secondary").css("display","none")}}),$(window).scroll(),$(".user-nav").load("//"+urlSubdomain+".allmusic.com/user/nav?"+Date.now().toString(),function(){"/user/paid-subscription"!=location.pathname&&$.getScript(cdnURL+"/js/common/account-expired.js")}),$(document).on("click",".user-menu",function(){$(this).addClass("open"),$(document).on("click.userMenu",function(){0===$(this).closest(".user-menu > ul").length&&($(".user-menu").removeClass("open"),$(document).off("click.userMenu"))})}),$(document).on("click","li a.my-profile-link",function(t){if(t.preventDefault(),User.loggedIn)$.manageAjax.add("allmusic.headerJS",{url:"/check_profile",type:"GET",dataType:"json",success:function(t){if(t.result)window.location.href="/profile/"+t.result;else{if(isMobile_AllMusic){var e=$('<div class="create-profile-modal">'),i=$('<iframe src="/user/profile-settings/mobile_modal">');e.css({position:"fixed","overflow-y":"auto",top:"0px",left:"0px",width:"100%",height:"100%","background-color":"rgba(0, 0, 0, 0.93)","z-index":2e4}),i.css({overflow:"hidden",display:"block",width:"100%",height:"500px",margin:"0 auto 0",border:0,"background-color":"transparent"})}else{e=$('<div class="create-profile-modal">'),i=$('<iframe src="/user/profile-settings/modal">');e.css({position:"fixed","overflow-y":"auto",top:"0px",left:"0px",width:"100%",height:"100%","background-color":"rgba(0, 0, 0, 0.93)","z-index":2e4}),i.css({overflow:"hidden",display:"block",width:"960px",height:"500px",margin:"232px auto 0",border:0,"background-color":"transparent"})}e.on({click:function(){$(this).remove()},keydown:function(t){27==t.which&&$(this).remove()}}),e.append(i),$("body").append(e)}}});else{var e=$('<div class="login-modal">'),i=$('<iframe src="/sign-in">');e.css({position:"fixed","overflow-y":"auto",top:"0px",left:"0px",width:"100%",height:"100%","background-color":"rgba(0, 0, 0, 0.93)","z-index":2e4}),i.css({overflow:"hidden",display:"block",width:"960px",height:"500px",margin:"232px auto 0",border:0,"background-color":"transparent"}),e.on({click:function(){$(this).remove()},keydown:function(t){27==t.which&&$(this).remove()}}),e.append(i),$("body").append(e)}}),User.loggedIn&&$(".user-notifications").load("//"+urlSubdomain+".allmusic.com/user/user_nav_notifications?"+Date.now().toString()),$(document).on("click",".user-notification-icon",function(){$(this).addClass("open"),$(document).find(".user-noticiation-inner-container").html('<div class="drop-down"><span class="tip"></span><ul><li><img src="/images/ajax_loader.gif"></li></ul></div>'),$.manageAjax.add("allmusic.headerJS",{url:"/user/get_user_notification_content",type:"GET",success:function(t){$(document).find(".user-noticiation-inner-container").html(t)}}),$.manageAjax.add("allmusic.headerJS",{url:"/user/update_notified",type:"GET"}),$(".flag").removeClass("has-notifications"),$(".notifications-flag-inner").html(""),$(document).on("click.userNotificationIcon",function(){0===$(this).closest(".user-notification-icon > ul").length&&($(".user-notification-icon").removeClass("open"),$(document).off("click.userNotificationIcon"))})}),(i=$(".site-search-input").keydown(function(t){13==t.which&&$(this).closest("form").submit()}).typeahead({appendTo:".search-container",select:function(t){window.location=t.url}}).focus(function(){$(this).siblings(":submit").addClass("focus")}).blur(function(){$(this).siblings(":submit").removeClass("focus")})).closest("form").submit(function(){return 0<i.val().length}),$(window).resize(function(){resize_search_box()})}),$(function(){$(document).on("click",".open-login-modal",function(t){t.preventDefault();var e=$('<div class="login-modal">'),i=$('<iframe src="/sign-in">');e.css({position:"fixed","overflow-y":"auto",top:"0px",left:"0px",width:"100%",height:"100%","background-color":"rgba(0, 0, 0, 0.93)","z-index":2e4}),i.css({overflow:"hidden",display:"block",width:"960px",height:"500px",margin:"232px auto 0",border:0,"background-color":"transparent"}),e.on({click:function(){$(this).remove()},keydown:function(t){27==t.which&&$(this).remove()}}),e.append(i),$("body").append(e)})}),function(i){var e={notificationText:'By using this site, you consent to the use of cookies. <br class="mobile-only"> For more information, please <a href="/cookies">read our cookie policy.</a>',cookieName:"policy",cookieValue:"notified",cookieDays:"365",timeBeforeClose:3e3,fadeTimeDefault:1777,fadeTimeClose:333},o={init:function(t){t&&i.extend(e,t),null===Cookie.read(e.cookieName)&&top===self&&(Cookie.create(e.cookieName,e.cookieValue,e.cookieDays),i.fn.cookiePolicy("showNotification",e))},showNotification:function(e){notificationText='<div class="cookie-policy-inner"><div class="text-wrapper">'+e.notificationText+'<a href="#" class="cookie-policy-close">CLOSE [X]</a></div></div>';var t=i('<div class="cookie-policy-box">').html(notificationText).appendTo(document.body);i(".cookie-policy-close").bind("click",function(t){t.preventDefault(),i.fn.cookiePolicy("hideNotification",e.fadeTimeClose)}),t.fadeIn(e.fadeTimeDefault,function(){setTimeout(function(){i.fn.cookiePolicy("hideNotification",e.fadeTimeDefault)},e.timeBeforeClose)})},hideNotification:function(t){t=void 0!==t?t:0;var e=i(".cookie-policy-box");0!==e.length&&e.fadeOut(t,function(){e.remove()})}};i.fn.cookiePolicy=function(t){return o[t]?o[t].apply(this,Array.prototype.slice.call(arguments,1)):"object"!=typeof t&&t?void i.error("Method "+t+" does not exist on jQuery.cookiePolicy"):o.init.apply(this,arguments)},isMobile_AllMusic||i(window).load(function(){i.fn.cookiePolicy()})}(jQuery),function(o){var n={notificationText:'<span class="heading">Have you signed up for your AllMusic account?</span><br><span class="notification-text">With an AllMusic account you will have the ability to rate albums, receive album recommendations based on your taste, create custom album lists, follow artists for new release notifications and more!</span><br><a href="/join" class="join-link">Sign up for your AllMusic Account</a>',cookieName:"registration_prompt",cookieValue:"true",cookieDays:"30",timeBeforeClose:6e5,fadeTimeDefault:1777,fadeTimeClose:333},e={init:function(t){if(t&&o.extend(n,t),!isMobile_AllMusic){var e=Cookie.read(n.cookieName);if(null===e&&top===self)Cookie.create(n.cookieName,"1",n.cookieDays);else{if("3"===e&&(Cookie.create(n.cookieName,"1",n.cookieDays),o.fn.registrationPrompt("showNotification",n)),"1"===e||"2"===e){var i=parseInt(e);++i,Cookie.create(n.cookieName,i,n.cookieDays)}User.loggedIn&&Cookie.create(n.cookieName,n.cookieValue,n.cookieDays)}}},showNotification:function(e){allmusic.gaTrackEvent({data:["Registration Pop-Up","Interaction","Pop-Up Launched"]}),notificationText='<a href="#" class="registration-prompt-close">X</a><div class="registration-prompt-inner"><div class="text-wrapper">'+e.notificationText+"</div></div>";var t=o('<div class="registration-prompt-box">').html(notificationText).appendTo(document.body);o(".registration-prompt-close").bind("click",function(t){t.preventDefault(),allmusic.gaTrackEvent({data:["Registration Pop-Up","Interaction","Click X to Close"]}),o.fn.registrationPrompt("hideNotification",e.fadeTimeClose),Cookie.create(n.cookieName,n.cookieValue,n.cookieDays)}),o(".join-link").bind("click",function(t){allmusic.gaTrackEvent({data:["Registration Pop-Up","Interaction","Click on Join Link"]}),Cookie.create(n.cookieName,n.cookieValue,n.cookieDays)}),t.fadeIn(e.fadeTimeDefault)},hideNotification:function(t){t=void 0!==t?t:0;var e=o(".registration-prompt-box");0!==e.length&&e.fadeOut(t,function(){e.remove()})}};o.fn.registrationPrompt=function(t){return e[t]?e[t].apply(this,Array.prototype.slice.call(arguments,1)):"object"!=typeof t&&t?void o.error("Method "+t+" does not exist on jQuery.registrationPrompt"):e.init.apply(this,arguments)},isMobile_AllMusic||o(function(){o.fn.registrationPrompt()})}(jQuery);