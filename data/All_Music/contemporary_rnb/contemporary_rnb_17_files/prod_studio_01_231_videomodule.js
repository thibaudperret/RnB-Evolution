self.studioLoader.context.evalInContext("window.STUDIO_SDK_START=+new Date();var Pm=function(a){return(a=a.exec(pb))?a[1]:\"\"};(function(){if(Jh)return Pm(/Firefox\\/([0-9.]+)/);if(Nb||Ob||Mb)return Xb;if(Nh)return Ib()?Pm(/CriOS\\/([0-9.]+)/):Pm(/Chrome\\/([0-9.]+)/);if(Oh&&!Ib())return Pm(/Version\\/([0-9.]+)/);if(Kh||Lh){var a=/Version\\/(\\S+).*Mobile\\/(\\S+)/.exec(pb);if(a)return a[1]+\".\"+a[2]}else if(Mh)return(a=Pm(/Android\\s+([0-9.]+)/))?a:Pm(/Version\\/([0-9.]+)/);return\"\"})();var Qm={},Rm=/OS (\\S+) like/,Sm=/Android (\\S+);/,Tm=function(a,b){null==Qm[b]&&((a=a.exec(pb))?(a=a[1].replace(/_/g,\".\"),Qm[b]=0<=lb(a,b)):Qm[b]=!1);return Qm[b]};var Um=function(){J.call(this);this.g=this.j=this.f=!1;this.b=0;this.l=[];this.w=!1};z(Um,J);var Vm=function(a,b){null==b||a.f||(a.a=b,a.A=!Kh&&!Lh,a.C=Kh||Lh,a.A?a.a.addEventListener(\"click\",x(a.s,a),!1):a.C&&(a.a.addEventListener(\"touchstart\",x(a.I,a),!1),a.a.addEventListener(\"touchmove\",x(a.F,a),!1),a.a.addEventListener(\"touchend\",x(a.G,a),!1)),a.f=!0)},Wm=function(a){null!=a.a&&a.f&&(a.f=!1,a.A?a.a.removeEventListener(\"click\",x(a.s,a),!1):a.C&&(a.a.removeEventListener(\"touchstart\",x(a.I,a),!1),a.a.removeEventListener(\"touchmove\",x(a.F,a),!1),a.a.removeEventListener(\"touchend\",x(a.G,a),!1)))};Um.prototype.I=function(a){this.j=!0;this.b=a.touches.length;this.w=Xm(this,a.touches)||1!=a.touches.length;a=a.touches;this.l=[];for(var b=0;b<a.length;b++)this.l.push(a[b].identifier)};Um.prototype.F=function(a){this.g=!0;this.b=a.touches.length};Um.prototype.G=function(a){this.j&&1==this.b&&!this.g&&!this.w&&Xm(this,a.changedTouches)&&this.dispatchEvent(new I(\"click\"));this.b=a.touches.length;0==this.b&&(this.g=this.j=!1)};Um.prototype.s=function(){this.dispatchEvent(new I(\"click\"))};var Xm=function(a,b){for(var c=0;c<b.length;c++)if(a.l.includes(b[c].identifier))return!0;return!1};var Ym=function(a){I.call(this,a)};z(Ym,I);var Zm=function(){J.call(this)};z(Zm,J);var $m=function(){J.call(this);this.g=new G;this.l=new Um;this.s=\"none\"};z($m,J);var cn=function(a){this.width=an(a).width;this.height=an(a).height;this.f=!1;this.b=a.a.muted;this.a=bn(a);this.volume=a.a.volume};cn.prototype.muted=function(a,b){return!this.b&&a||0<this.volume&&0==b};$m.prototype.v=function(){dn(this);$m.o.v.call(this)};var dn=function(a){null!=a.b&&a.b.dispose();null!=a.j&&a.j.dispose();null!=a.a&&en(a.a);ge(a.g);Wm(a.l)},Y=function(a,b,c){c&&null!=a.g.get(b)||(a.g.set(b,!0),a.dispatchEvent(new Ym(b)))},fn=function(a,b){null!=a.g.get(b)&&he(a.g,b)};g=$m.prototype;g.xd=function(){a:{var a=this.a;if(a.a.seeking&&!a.j)a.j=!0,a.l=gn(a);else{if(!a.a.seeking&&a.j){a.j=!1;var b=0!=a.a.currentTime&&a.a.currentTime<a.l;a.l=-1;break a}if(!a.a.seeking&&0!=a.a.currentTime&&gn(a)>a.a.currentTime){b=.5<gn(a)-a.a.currentTime;break a}}b=!1}a=hn(this.a);if(b&&(Y(this,\"rewind\",!1),-1!=a)){gn(this.a)>=.75*a||fn(this,\"thirdquartile\");gn(this.a)>=.5*a||fn(this,\"midpoint\");gn(this.a)>=.25*a||fn(this,\"firstquartile\");a:{b=this.a;for(var c=b.f.K(),d=c.length-1;0<=d;d--)if(.5>c[d]){c=b.f;c=0==c.T()?null:c.get(c.T()-1);d=b.f;d.a.length=0;d.b=0;.5<=c&&b.f.add(c);b=!0;break a}b=!1}b&&Y(this,\"replay\",!1)}-1!=a&&(gn(this.a)>=.25*a&&Y(this,\"firstquartile\",!0),gn(this.a)>=.5*a&&Y(this,\"midpoint\",!0),gn(this.a)>=.75*a&&Y(this,\"thirdquartile\",!0))};g.wd=function(){Y(this,\"creativeview\",!0);null!=this.w?(K(this.b,this.l,\"click\",this.rd,!1),Vm(this.l,this.w)):K(this.b,this.a,\"click\",this.Yd,void 0);Y(this,\"start\",!0);(this.a.a.muted||0==this.a.a.volume)&&Y(this,\"mute\",!1)};g.yd=function(){var a=this.a.a.muted,b=this.a.a.volume,c=this.f;c.b&&!a||!a&&0==c.volume&&0<b?Y(this,\"unmute\",!1):this.f.muted(a,b)&&Y(this,\"mute\",!1);this.f.b=a;this.f.volume=b};g.vd=function(){if(this.a.a.ended)Y(this,\"complete\",!0);else{var a;if(a=\"pausedAtBeginning\"==this.s)a=this.a,a=!isNaN(a.a.duration)&&0<a.a.duration&&0==a.a.currentTime;a?Y(this,\"stop\",!0):jn(this.a)&&!this.a.a.seeking&&(this.f.f=!0,Y(this,\"pause\",!1))}};g.Xd=function(){this.f.f&&(this.f.f=!1,Y(this,\"resume\",!1))};g.sd=function(){var a=this.a;if(!Mh||Mh&&Tm(Sm,2.3))a=!0;else{var b=a.a.duration-gn(a);a=0==a.a.currentTime&&1.5>=b}a?\"pausedAtEnd\"==this.s&&jn(this.a)?Y(this,\"stop\",!0):Y(this,\"complete\",!0):this.a.a.pause()};g.rd=function(){Y(this,\"click\",!1)};g.ud=function(){Y(this,\"error\",!1)};g.Yd=function(){Y(this,\"click\",!1)};g.dc=function(){this.f.a=!0;Y(this,\"fullscreen\",!1)};g.cc=function(){this.f.a=!1};g.Wd=function(){var a=an(this.a),b=bn(this.a),c=this.f;if(a.width!=c.width||a.height!=c.height)!this.f.a&&b?this.dc():this.f.a&&!b&&this.cc(),this.f.width=a.width,this.f.height=a.height};var kn=function(){this.b=0;this.a=[]};g=kn.prototype;g.add=function(a){var b=this.a[this.b];this.a[this.b]=a;this.b=(this.b+1)%4;return b};g.get=function(a){a=ln(this,a);return this.a[a]};g.set=function(a,b){a=ln(this,a);this.a[a]=b};g.T=function(){return this.a.length};g.K=function(){var a=this.T(),b=this.T(),c=[];for(a=this.T()-a;a<b;a++)c.push(this.get(a));return c};g.O=function(){for(var a=[],b=this.T(),c=0;c<b;c++)a[c]=c;return a};g.P=function(a){return a<this.T()};g.Ca=function(a){for(var b=this.T(),c=0;c<b;c++)if(this.get(c)==a)return!0;return!1};var ln=function(a,b){if(b>=a.a.length)throw Error(\"Out of bounds exception\");return 4>a.a.length?b:(a.b+Number(b))%4};var mn=function(a){J.call(this);this.a=a;this.f=new kn;this.l=-1;this.s=this.j=!1};z(mn,Zm);var hn=function(a){return isNaN(a.a.duration)?-1:a.a.duration},jn=function(a){return a.a.paused?Kh||Lh||Nh?a.a.currentTime<a.a.duration:!0:!1},bn=function(a){return Kh?a.a.webkitSupportsFullscreen&&a.a.webkitDisplayingFullscreen:a.a.offsetWidth>=document.body.offsetWidth&&a.a.offsetHeight>=document.body.offsetHeight},gn=function(a){for(a=a.f.K();a.length;){var b=a.pop();if(0<b)return b}return-1},an=function(a){return new Jc(a.a.offsetWidth,a.a.offsetHeight)};mn.prototype.v=function(){mn.o.v.call(this);en(this)};var en=function(a){null!=a.g&&(Wm(a.g),a.g=null);null!=a.b&&(a.b.dispose(),a.b=null);a.l=-1;a.s=!1;a.j=!1;a=a.f;a.a.length=0;a.b=0},nn=function(a,b){a.s||(a.s=!0,a.dispatchEvent(\"start\"),!Mh&&(!Kh||(Kh||Lh)&&Tm(Rm,4))||a.ec(b))};g=mn.prototype;g.Vd=function(){Oh&&(this.a.currentTime=.001)};g.kc=function(a){this.dispatchEvent(\"play\");Kh||Lh||nn(this,a)};g.Ed=function(a){this.s||((Kh||Lh)&&0<this.a.currentTime&&nn(this,a),Qb&&this.kc(a));this.f.add(this.a.currentTime);this.dispatchEvent(\"timeUpdate\")};g.Fd=function(){this.dispatchEvent(\"volumeChange\")};g.Dd=function(){this.dispatchEvent(\"pause\")};g.Ad=function(){this.dispatchEvent(\"end\")};g.ec=function(){this.dispatchEvent(\"beginFullscreen\")};g.Cd=function(){this.dispatchEvent(\"endFullscreen\")};g.Bd=function(){this.dispatchEvent(\"error\")};g.zd=function(){this.dispatchEvent(\"click\")};var on={},pn=function(a){this.l=a;this.g=this.h=!0;this.f=new $m;this.f.s=\"pausedAtBeginning\";this.j=this.a=this.b=null;Ti(x(this.W,this))},qn=new G;pn.prototype.w=!1;pn.prototype.s=!1;pn.prototype.B=!0;var rn=function(a){var b=qn.get(a);null==b&&(b=new pn(a),qn.set(a,b));return b};pn.prototype.W=function(a){this.a=a;sn(this)};var sn=function(a){tn(a,!1);tn(a,!0);if(null!=a.a&&null!=a.j){var b=a.f,c=a.b;dn(b);b.a=c;c=b.a;en(c);c.b=new Wf(c);K(c.b,c.a,\"canplay\",c.Vd,void 0);K(c.b,c.a,\"ended\",c.Ad,void 0);K(c.b,c.a,\"webkitbeginfullscreen\",c.ec,void 0);K(c.b,c.a,\"webkitendfullscreen\",c.Cd,void 0);K(c.b,c.a,\"pause\",c.Dd,void 0);K(c.b,c.a,\"playing\",c.kc,void 0);K(c.b,c.a,\"timeupdate\",c.Ed,void 0);K(c.b,c.a,\"volumechange\",c.Fd,void 0);K(c.b,c.a,\"error\",c.Bd,void 0);c.g=new Um;K(c.b,c.g,\"click\",c.zd,!1);Vm(c.g,c.a);b.f=new cn(b.a);b.w=null;b.b=new Wf(b);K(b.b,b.a,\"timeUpdate\",b.xd,!1);K(b.b,b.a,\"volumeChange\",b.yd,!1);K(b.b,b.a,\"pause\",b.vd,!1);K(b.b,b.a,\"play\",b.Xd,!1);K(b.b,b.a,\"end\",b.sd,!1);K(b.b,b.a,\"beginFullscreen\",b.dc,!1);K(b.b,b.a,\"endFullscreen\",b.cc,!1);K(b.b,b.a,\"start\",b.wd,!1);K(b.b,b.a,\"error\",b.ud,!1);b.j=new Ve(1E3);K(b.b,b.j,\"tick\",b.Wd,!1,b);b.j.start();a.b.xa(\"timeUpdate\",a.Cc,!1,a);a.j.paused?a.f.xa(\"start\",a.Wa,!1,a):a.Wa()}},tn=function(a,b){un(a,b,\"resume\",a.Wa);un(a,b,\"replay\",a.ee);un(a,b,\"pause\",a.$d);un(a,b,\"stop\",a.se);un(a,b,\"mute\",a.Sd);un(a,b,\"unmute\",a.Ce);un(a,b,\"firstquartile\",a.Tc);un(a,b,\"midpoint\",a.Rd);un(a,b,\"thirdquartile\",a.ye);un(a,b,\"complete\",a.Lc)},un=function(a,b,c,d){(b?a.f.xa:a.f.Fa).call(a.f,c,d,!1,a)};g=pn.prototype;g.Wa=function(){this.f.Fa(\"start\",this.Wa,!1,this);this.a.dispatchEvent(new N(\"videoStart\"));vn(this,\"play\",!this.B);wn(this,\"Start\");this.B=!1;null!=this.a&&this.g&&!this.w&&(this.a.w(),this.w=!0)};g.ee=function(){vn(this,\"replay\",!0);wn(this,\"Stop\");this.h=!1};g.$d=function(){vn(this,\"pause\",!0);wn(this,\"Stop\")};g.se=function(){vn(this,\"stop\",!0);wn(this,\"Stop\");this.h=!1};g.Sd=function(){vn(this,\"mute\",!this.B)};g.Ce=function(){vn(this,\"unmute\",!this.B)};g.Tc=function(){vn(this,\"firstquartile\")};g.Rd=function(){vn(this,\"midpoint\")};g.ye=function(){vn(this,\"thirdquartile\")};g.Lc=function(){vn(this,\"complete\");wn(this,\"Stop\");this.h=!1;null!=this.a&&this.g&&!this.s&&(this.a.w(),this.s=!0)};g.Cc=function(a){M(this.a.D,\"updateVideoProgress\",[\"EVENT_VIDEO_\"+a.type.toUpperCase(),hn(this.b),this.b.a.currentTime])};var vn=function(a,b,c){null!=a.a&&a.g&&(c&&nh(a.a.b,\"Count\",a.l,\"EVENT_VIDEO_INTERACTION\"),nh(a.a.b,\"Count\",a.l,\"EVENT_VIDEO_\"+b.toUpperCase()))},wn=function(a,b){null!=a.a&&a.g&&a.h&&nh(a.a.b,b,a.l,\"EVENT_VIDEO_VIEW_TIMER\")};var xn=function(a){H.call(this);this.f=a;this.a={};this.b=null;Ti(x(this.h,this))};z(xn,H);q(\"studio.video.Reporter\",xn,void 0);var yn=new G,zn=function(a,b,c){var d=rn(a);\"boolean\"==typeof c&&(d.B=c);dn(d.f);d.h=!0;d.g=!0;d.j=b;d.b=new mn(d.j);sn(d);yn.P(a)||yn.set(a,new xn(b))};xn.attach=zn;xn.prototype.h=function(a){this.b=a;this.b.Gb(this.f)};xn.prototype.v=function(){for(var a in this.a)this.f[a]=this.a[a];xn.o.v.call(this)};var An=function(a){a=rn(a);null==a.b||jn(a.b)||a.b.a.ended||(vn(a,\"stop\",!1),wn(a,\"Stop\"),a.h=!1);tn(a,!1);a.g=!1;a.j=null;dn(a.f);a.b&&(a.b.Fa(\"timeUpdate\",a.Cc,!1,a),a.b.dispose())};xn.detach=An;var Bn=function(){};var Cn,Dn=function(){};z(Dn,Bn);var En=function(a){a:{if(!a.a&&\"undefined\"==typeof XMLHttpRequest&&\"undefined\"!=typeof ActiveXObject){for(var b=[\"MSXML2.XMLHTTP.6.0\",\"MSXML2.XMLHTTP.3.0\",\"MSXML2.XMLHTTP\",\"Microsoft.XMLHTTP\"],c=0;c<b.length;c++){var d=b[c];try{new ActiveXObject(d);var e=a.a=d;break a}catch(f){}}throw Error(\"Could not create ActiveXObject. ActiveX might be disabled, or MSXML might not be installed\");}e=a.a}return e?new ActiveXObject(e):new XMLHttpRequest};Cn=new Dn;var Gn=function(a,b){b=b?Cb(b):{};b.responseType=\"blob\";return Fn(\"GET\",a,b).then(function(a){return a.response})},Fn=function(a,b,c){var d=c||{},e=d.Ge?En(d.Ge):En(Cn);return Ed(new ud(function(c,k){var f;try{e.open(a,b,!0)}catch(L){k(new Hn(\"Error opening XHR: \"+L.message,b,e))}e.onreadystatechange=function(){if(4==e.readyState){h.clearTimeout(f);a:switch(e.status){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var a=!0;break a;default:a=!1}!a&&(a=0===e.status)&&(a=b.match(uf)[1]||null,!a&&h.self&&h.self.location&&(a=h.self.location.protocol,a=a.substr(0,a.length-1)),a=a?a.toLowerCase():\"\",a=!(\"http\"==a||\"https\"==a||\"\"==a));a?c(e):k(new In(e.status,b,e))}};e.onerror=function(){k(new Hn(\"Network error\",b,e))};if(d.headers){for(var t in d.headers){var u=d.headers[t];null!=u&&e.setRequestHeader(t,u)}u=d.headers[\"Content-Type\"]}t=h.FormData&&!1;\"POST\"!=a||void 0!==u||t||e.setRequestHeader(\"Content-Type\",\"application/x-www-form-urlencoded;charset=utf-8\");d.withCredentials&&(e.withCredentials=d.withCredentials);d.responseType&&(e.responseType=d.responseType);d.mimeType&&e.overrideMimeType(d.mimeType);0<d.Ae&&(f=h.setTimeout(function(){e.onreadystatechange=ja;e.abort();k(new Jn(b,e))},d.Ae));try{e.send(null)}catch(L){e.onreadystatechange=ja,h.clearTimeout(f),k(new Hn(\"Error sending XHR: \"+L.message,b,e))}}),function(a){a instanceof Fd&&e.abort();throw a;})},Hn=function(a,b){Ba.call(this,a+\", url=\"+b);this.url=b};z(Hn,Ba);Hn.prototype.name=\"XhrError\";var In=function(a,b,c){Hn.call(this,\"Request Failed, status=\"+a,b,c);this.status=a};z(In,Hn);In.prototype.name=\"XhrHttpError\";var Jn=function(a,b){Hn.call(this,\"Request timed out\",a,b)};z(Jn,Hn);Jn.prototype.name=\"XhrTimeoutError\";q(\"studio.sdk.video.VideoResource.getBlobForUrl\",function(a){return Ui().then(function(b){b=b.Ea(a);return\"file:\"==window.location.protocol?zd(Error(\"You cannot fetch the blob of a video when running locally. Run a local web server to test this creative (For example, python -m SimpleHTTPServer).\")):gb(b,\"/itag/\")?Kn(Ln(b)).then(Gn):Gn(b)})},void 0);var Kn=function(a){return Fn(\"HEAD\",a).then(function(b){return Mn(b)?Fn(\"GET\",a).then(function(a){return Kn(a.response)}):a})},Ln=function(a){return gb(a,\"/itag/\")&&!gb(a,\"/alr/yes/\")?(a=a.split(\"/\"),a.splice(a.length-2,0,\"alr\",\"yes\"),a.join(\"/\")):a},Mn=function(a){a=a.getResponseHeader(\"Content-Type\");return gb(a,\"text/plain\")};");
